<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>Exploratory Data Analysis (EDA)</title>
        <link rel="stylesheet" href="https://esmail.github.io/cs109a-f18-group16/theme/css/main.css" />
        <link href="https://esmail.github.io/cs109a-f18-group16/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Alzheimer's Disease Diagnosis Prediction Atom Feed" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="https://esmail.github.io/cs109a-f18-group16/">Alzheimer's Disease Diagnosis Prediction </a></h1>
                <nav><ul>
                    <li><a href="https://esmail.github.io/cs109a-f18-group16/index.html" rel="bookmark">Intro</a></li>
                    <li><a href="https://esmail.github.io/cs109a-f18-group16/eda.html" rel="bookmark">EDA</a></li>
                    <li><a href="https://esmail.github.io/cs109a-f18-group16/models.html" rel="bookmark">Models</a></li>
                    <li><a href="https://esmail.github.io/cs109a-f18-group16/conclusion.html" rel="bookmark">Conclusion</a></li>
                    <li><a href="https://esmail.github.io/cs109a-f18-group16/future_steps.html" rel="bookmark">Future Steps</a></li>
                    <li><a href="https://esmail.github.io/cs109a-f18-group16/references.html" rel="bookmark">References</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="https://esmail.github.io/cs109a-f18-group16/eda.html" rel="bookmark"
           title="Permalink to Exploratory Data Analysis (EDA)">Exploratory Data Analysis (EDA)</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2016-06-08T20:00:00-04:00">
                Published: Wed 08 June 2016
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="https://esmail.github.io/cs109a-f18-group16/author/me.html">me</a>
        </address>
<p>In <a href="https://esmail.github.io/cs109a-f18-group16/category/posts.html">posts</a>.</p>
<p>tags: <a href="https://esmail.github.io/cs109a-f18-group16/tag/python.html">python</a> </p>
</footer><!-- /.post-info -->      <style type="text/css">/*!
*
* IPython notebook
*
*/
/* CSS font colors for translated ANSI colors. */
.ansibold {
  font-weight: bold;
}
/* use dark versions for foreground, to improve visibility */
.ansiblack {
  color: black;
}
.ansired {
  color: darkred;
}
.ansigreen {
  color: darkgreen;
}
.ansiyellow {
  color: #c4a000;
}
.ansiblue {
  color: darkblue;
}
.ansipurple {
  color: darkviolet;
}
.ansicyan {
  color: steelblue;
}
.ansigray {
  color: gray;
}
/* and light for background, for the same reason */
.ansibgblack {
  background-color: black;
}
.ansibgred {
  background-color: red;
}
.ansibggreen {
  background-color: green;
}
.ansibgyellow {
  background-color: yellow;
}
.ansibgblue {
  background-color: blue;
}
.ansibgpurple {
  background-color: magenta;
}
.ansibgcyan {
  background-color: cyan;
}
.ansibggray {
  background-color: gray;
}
div.cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  border-radius: 2px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  border-width: 1px;
  border-style: solid;
  border-color: transparent;
  width: 100%;
  padding: 5px;
  /* This acts as a spacer between cells, that is outside the border */
  margin: 0px;
  outline: none;
  border-left-width: 1px;
  padding-left: 5px;
  background: linear-gradient(to right, transparent -40px, transparent 1px, transparent 1px, transparent 100%);
}
div.cell.jupyter-soft-selected {
  border-left-color: #90CAF9;
  border-left-color: #E3F2FD;
  border-left-width: 1px;
  padding-left: 5px;
  border-right-color: #E3F2FD;
  border-right-width: 1px;
  background: #E3F2FD;
}
@media print {
  div.cell.jupyter-soft-selected {
    border-color: transparent;
  }
}
div.cell.selected {
  border-color: #ababab;
  border-left-width: 0px;
  padding-left: 6px;
  background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 5px, transparent 5px, transparent 100%);
}
@media print {
  div.cell.selected {
    border-color: transparent;
  }
}
div.cell.selected.jupyter-soft-selected {
  border-left-width: 0;
  padding-left: 6px;
  background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 7px, #E3F2FD 7px, #E3F2FD 100%);
}
.edit_mode div.cell.selected {
  border-color: #66BB6A;
  border-left-width: 0px;
  padding-left: 6px;
  background: linear-gradient(to right, #66BB6A -40px, #66BB6A 5px, transparent 5px, transparent 100%);
}
@media print {
  .edit_mode div.cell.selected {
    border-color: transparent;
  }
}
.prompt {
  /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */
  min-width: 14ex;
  /* This padding is tuned to match the padding on the CodeMirror editor. */
  padding: 0.4em;
  margin: 0px;
  font-family: monospace;
  text-align: right;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
  /* Don't highlight prompt number selection */
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  /* Use default cursor */
  cursor: default;
}
@media (max-width: 540px) {
  .prompt {
    text-align: left;
  }
}
div.inner_cell {
  min-width: 0;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_area {
  border: 1px solid #cfcfcf;
  border-radius: 2px;
  background: #f7f7f7;
  line-height: 1.21429em;
}
/* This is needed so that empty prompt areas can collapse to zero height when there
   is no content in the output_subarea and the prompt. The main purpose of this is
   to make sure that empty JavaScript output_subareas have no height. */
div.prompt:empty {
  padding-top: 0;
  padding-bottom: 0;
}
div.unrecognized_cell {
  padding: 5px 5px 5px 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.unrecognized_cell .inner_cell {
  border-radius: 2px;
  padding: 5px;
  font-weight: bold;
  color: red;
  border: 1px solid #cfcfcf;
  background: #eaeaea;
}
div.unrecognized_cell .inner_cell a {
  color: inherit;
  text-decoration: none;
}
div.unrecognized_cell .inner_cell a:hover {
  color: inherit;
  text-decoration: none;
}
@media (max-width: 540px) {
  div.unrecognized_cell > div.prompt {
    display: none;
  }
}
div.code_cell {
  /* avoid page breaking on code cells when printing */
}
@media print {
  div.code_cell {
    page-break-inside: avoid;
  }
}
/* any special styling for code cells that are currently running goes here */
div.input {
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.input {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_prompt {
  color: #303F9F;
  border-top: 1px solid transparent;
}
div.input_area > div.highlight {
  margin: 0.4em;
  border: none;
  padding: 0px;
  background-color: transparent;
}
div.input_area > div.highlight > pre {
  margin: 0px;
  border: none;
  padding: 0px;
  background-color: transparent;
}
/* The following gets added to the <head> if it is detected that the user has a
 * monospace font with inconsistent normal/bold/italic height.  See
 * notebookmain.js.  Such fonts will have keywords vertically offset with
 * respect to the rest of the text.  The user should select a better font.
 * See: https://github.com/ipython/ipython/issues/1503
 *
 * .CodeMirror span {
 *      vertical-align: bottom;
 * }
 */
.CodeMirror {
  line-height: 1.21429em;
  /* Changed from 1em to our global default */
  font-size: 14px;
  height: auto;
  /* Changed to auto to autogrow */
  background: none;
  /* Changed from white to allow our bg to show through */
}
.CodeMirror-scroll {
  /*  The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/
  /*  We have found that if it is visible, vertical scrollbars appear with font size changes.*/
  overflow-y: hidden;
  overflow-x: auto;
}
.CodeMirror-lines {
  /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */
  /* we have set a different line-height and want this to scale with that. */
  padding: 0.4em;
}
.CodeMirror-linenumber {
  padding: 0 8px 0 4px;
}
.CodeMirror-gutters {
  border-bottom-left-radius: 2px;
  border-top-left-radius: 2px;
}
.CodeMirror pre {
  /* In CM3 this went to 4px from 0 in CM2. We need the 0 value because of how we size */
  /* .CodeMirror-lines */
  padding: 0;
  border: 0;
  border-radius: 0;
}
/*

Original style from softwaremaniacs.org (c) Ivan Sagalaev <Maniac@SoftwareManiacs.Org>
Adapted from GitHub theme

*/
.highlight-base {
  color: #000;
}
.highlight-variable {
  color: #000;
}
.highlight-variable-2 {
  color: #1a1a1a;
}
.highlight-variable-3 {
  color: #333333;
}
.highlight-string {
  color: #BA2121;
}
.highlight-comment {
  color: #408080;
  font-style: italic;
}
.highlight-number {
  color: #080;
}
.highlight-atom {
  color: #88F;
}
.highlight-keyword {
  color: #008000;
  font-weight: bold;
}
.highlight-builtin {
  color: #008000;
}
.highlight-error {
  color: #f00;
}
.highlight-operator {
  color: #AA22FF;
  font-weight: bold;
}
.highlight-meta {
  color: #AA22FF;
}
/* previously not defined, copying from default codemirror */
.highlight-def {
  color: #00f;
}
.highlight-string-2 {
  color: #f50;
}
.highlight-qualifier {
  color: #555;
}
.highlight-bracket {
  color: #997;
}
.highlight-tag {
  color: #170;
}
.highlight-attribute {
  color: #00c;
}
.highlight-header {
  color: blue;
}
.highlight-quote {
  color: #090;
}
.highlight-link {
  color: #00c;
}
/* apply the same style to codemirror */
.cm-s-ipython span.cm-keyword {
  color: #008000;
  font-weight: bold;
}
.cm-s-ipython span.cm-atom {
  color: #88F;
}
.cm-s-ipython span.cm-number {
  color: #080;
}
.cm-s-ipython span.cm-def {
  color: #00f;
}
.cm-s-ipython span.cm-variable {
  color: #000;
}
.cm-s-ipython span.cm-operator {
  color: #AA22FF;
  font-weight: bold;
}
.cm-s-ipython span.cm-variable-2 {
  color: #1a1a1a;
}
.cm-s-ipython span.cm-variable-3 {
  color: #333333;
}
.cm-s-ipython span.cm-comment {
  color: #408080;
  font-style: italic;
}
.cm-s-ipython span.cm-string {
  color: #BA2121;
}
.cm-s-ipython span.cm-string-2 {
  color: #f50;
}
.cm-s-ipython span.cm-meta {
  color: #AA22FF;
}
.cm-s-ipython span.cm-qualifier {
  color: #555;
}
.cm-s-ipython span.cm-builtin {
  color: #008000;
}
.cm-s-ipython span.cm-bracket {
  color: #997;
}
.cm-s-ipython span.cm-tag {
  color: #170;
}
.cm-s-ipython span.cm-attribute {
  color: #00c;
}
.cm-s-ipython span.cm-header {
  color: blue;
}
.cm-s-ipython span.cm-quote {
  color: #090;
}
.cm-s-ipython span.cm-link {
  color: #00c;
}
.cm-s-ipython span.cm-error {
  color: #f00;
}
.cm-s-ipython span.cm-tab {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=);
  background-position: right;
  background-repeat: no-repeat;
}
div.output_wrapper {
  /* this position must be relative to enable descendents to be absolute within it */
  position: relative;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  z-index: 1;
}
/* class for the output area when it should be height-limited */
div.output_scroll {
  /* ideally, this would be max-height, but FF barfs all over that */
  height: 24em;
  /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */
  width: 100%;
  overflow: auto;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  display: block;
}
/* output div while it is collapsed */
div.output_collapsed {
  margin: 0px;
  padding: 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
div.out_prompt_overlay {
  height: 100%;
  padding: 0px 0.4em;
  position: absolute;
  border-radius: 2px;
}
div.out_prompt_overlay:hover {
  /* use inner shadow to get border that is computed the same on WebKit/FF */
  -webkit-box-shadow: inset 0 0 1px #000;
  box-shadow: inset 0 0 1px #000;
  background: rgba(240, 240, 240, 0.5);
}
div.output_prompt {
  color: #D84315;
}
/* This class is the outer container of all output sections. */
div.output_area {
  padding: 0px;
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.output_area .MathJax_Display {
  text-align: left !important;
}
div.output_area 
div.output_area 
div.output_area img,
div.output_area svg {
  max-width: 100%;
  height: auto;
}
div.output_area img.unconfined,
div.output_area svg.unconfined {
  max-width: none;
}
/* This is needed to protect the pre formating from global settings such
   as that of bootstrap */
.output {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.output_area {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
div.output_area pre {
  margin: 0;
  padding: 0;
  border: 0;
  vertical-align: baseline;
  color: black;
  background-color: transparent;
  border-radius: 0;
}
/* This class is for the output subarea inside the output_area and after
   the prompt div. */
div.output_subarea {
  overflow-x: auto;
  padding: 0.4em;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
  max-width: calc(100% - 14ex);
}
div.output_scroll div.output_subarea {
  overflow-x: visible;
}
/* The rest of the output_* classes are for special styling of the different
   output types */
/* all text output has this class: */
div.output_text {
  text-align: left;
  color: #000;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
}
/* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */
div.output_stderr {
  background: #fdd;
  /* very light red background for stderr */
}
div.output_latex {
  text-align: left;
}
/* Empty output_javascript divs should have no height */
div.output_javascript:empty {
  padding: 0;
}
.js-error {
  color: darkred;
}
/* raw_input styles */
div.raw_input_container {
  line-height: 1.21429em;
  padding-top: 5px;
}
pre.raw_input_prompt {
  /* nothing needed here. */
}
input.raw_input {
  font-family: monospace;
  font-size: inherit;
  color: inherit;
  width: auto;
  /* make sure input baseline aligns with prompt */
  vertical-align: baseline;
  /* padding + margin = 0.5em between prompt and cursor */
  padding: 0em 0.25em;
  margin: 0em 0.25em;
}
input.raw_input:focus {
  box-shadow: none;
}
p.p-space {
  margin-bottom: 10px;
}
div.output_unrecognized {
  padding: 5px;
  font-weight: bold;
  color: red;
}
div.output_unrecognized a {
  color: inherit;
  text-decoration: none;
}
div.output_unrecognized a:hover {
  color: inherit;
  text-decoration: none;
}
.rendered_html {
  color: #000;
  /* any extras will just be numbers: */
}



.rendered_html :link {
  text-decoration: underline;
}
.rendered_html :visited {
  text-decoration: underline;
}






.rendered_html h1:first-child {
  margin-top: 0.538em;
}
.rendered_html h2:first-child {
  margin-top: 0.636em;
}
.rendered_html h3:first-child {
  margin-top: 0.777em;
}
.rendered_html h4:first-child {
  margin-top: 1em;
}
.rendered_html h5:first-child {
  margin-top: 1em;
}
.rendered_html h6:first-child {
  margin-top: 1em;
}








.rendered_html * + ul {
  margin-top: 1em;
}
.rendered_html * + ol {
  margin-top: 1em;
}


.rendered_html pre,



.rendered_html tr,
.rendered_html th,

.rendered_html td,


.rendered_html * + table {
  margin-top: 1em;
}

.rendered_html * + p {
  margin-top: 1em;
}

.rendered_html * + img {
  margin-top: 1em;
}
.rendered_html img,

.rendered_html img.unconfined,

div.text_cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.text_cell > div.prompt {
    display: none;
  }
}
div.text_cell_render {
  /*font-family: "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;*/
  outline: none;
  resize: none;
  width: inherit;
  border-style: none;
  padding: 0.5em 0.5em 0.5em 0.4em;
  color: #000;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
a.anchor-link:link {
  text-decoration: none;
  padding: 0px 20px;
  visibility: hidden;
}
h1:hover .anchor-link,
h2:hover .anchor-link,
h3:hover .anchor-link,
h4:hover .anchor-link,
h5:hover .anchor-link,
h6:hover .anchor-link {
  visibility: visible;
}
.text_cell.rendered .input_area {
  display: none;
}
.text_cell.rendered 
.text_cell.unrendered .text_cell_render {
  display: none;
}
.cm-header-1,
.cm-header-2,
.cm-header-3,
.cm-header-4,
.cm-header-5,
.cm-header-6 {
  font-weight: bold;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
}
.cm-header-1 {
  font-size: 185.7%;
}
.cm-header-2 {
  font-size: 157.1%;
}
.cm-header-3 {
  font-size: 128.6%;
}
.cm-header-4 {
  font-size: 110%;
}
.cm-header-5 {
  font-size: 100%;
  font-style: italic;
}
.cm-header-6 {
  font-size: 100%;
  font-style: italic;
}
</style>
<style type="text/css">.highlight .hll { background-color: #ffffcc }
.highlight  { background: #f8f8f8; }
.highlight .c { color: #408080; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #008000; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #BC7A00 } /* Comment.Preproc */
.highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
.highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008000 } /* Keyword.Pseudo */
.highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #B00040 } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BA2121 } /* Literal.String */
.highlight .na { color: #7D9029 } /* Name.Attribute */
.highlight .nb { color: #008000 } /* Name.Builtin */
.highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0000FF } /* Name.Function */
.highlight .nl { color: #A0A000 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #19177C } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #666666 } /* Literal.Number.Bin */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sa { color: #BA2121 } /* Literal.String.Affix */
.highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
.highlight .sc { color: #BA2121 } /* Literal.String.Char */
.highlight .dl { color: #BA2121 } /* Literal.String.Delimiter */
.highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BA2121 } /* Literal.String.Double */
.highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
.highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #BB6688 } /* Literal.String.Regex */
.highlight .s1 { color: #BA2121 } /* Literal.String.Single */
.highlight .ss { color: #19177C } /* Literal.String.Symbol */
.highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight .fm { color: #0000FF } /* Name.Function.Magic */
.highlight .vc { color: #19177C } /* Name.Variable.Class */
.highlight .vg { color: #19177C } /* Name.Variable.Global */
.highlight .vi { color: #19177C } /* Name.Variable.Instance */
.highlight .vm { color: #19177C } /* Name.Variable.Magic */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */</style>
<style type="text/css">
/* Temporary definitions which will become obsolete with Notebook release 5.0 */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-bold { font-weight: bold; }
</style>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Exploratory-Data-Analysis-(EDA)">Exploratory Data Analysis (EDA)<a class="anchor-link" href="#Exploratory-Data-Analysis-(EDA)">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The ADNI project collected and is collecting an enormous amount of data that is provided in many scattered csv files and with quite cryptic labels and codes. This together with the lack of knowledge in the field can be overwhelming and challenging at first. In this section we are going to explore different types of data and determine their relevance.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Data-Categories">Data Categories<a class="anchor-link" href="#Data-Categories">&#182;</a></h3><p>In order to start having a big picture of the data, we are going to describe roughly the different categories in which we will focus. After doing some research online and taking a look to the data, we have decided to limit our scope to the following categories:</p>
<h4 id="Demographics-and-Medical-History">Demographics and Medical History<a class="anchor-link" href="#Demographics-and-Medical-History">&#182;</a></h4><p>The study collected some basic information about the patients including age, gender, race or civil status. It also collected some family history information like the fact that certain relatives developed different kinds of illnesses including Alzheimer itself. This category of information is the easiest to understand since it doesn't require any particular background.</p>
<h4 id="Neuropsychological-Tests">Neuropsychological Tests<a class="anchor-link" href="#Neuropsychological-Tests">&#182;</a></h4><p>One of the most valuable and broadly used information provided as part of the study are neuropsychological tests. This often consists on a set of tasks the patient has to perform and the goal is to evaluate the cognitive function of the brain. They are often focused on a specific part or pathway of this organ and they produce a particular score that is then evaluated in a predefined scale. Some of the most widely used neuropsychological tests include CDR (Clinical Dementia Rating), FAQ (Functional Activities Questionnaire) or MMSE (Mini–Mental State Examination).</p>
<h4 id="Biomarkers">Biomarkers<a class="anchor-link" href="#Biomarkers">&#182;</a></h4><p>A biomarker is some biological indicator that is linked to a particular disease, in this case Alzheimer. The study perform many biological tests to the patients including different blood or urine tests. However one of the most used substances to obtain biomarkers from is the Cerebrospinal Fluid (CSF) which is found in the brain and the spinal cord. Some CSF biomarkers are different forms of the proteins Amyloid-$\beta$ like A$\beta$42 or Tau like p-tau.</p>
<table>
  <tr></tr>
  <tr>
    <td>
      <img src="http://drive.google.com/uc?export=view&id=15Kut9jOo0LrE76C8sFlRFTijVGGKPlXS">
    </td>
  </tr>
</table><h4 id="Brain-Imaging-Data">Brain Imaging Data<a class="anchor-link" href="#Brain-Imaging-Data">&#182;</a></h4><p>Along the different phases of the study 2 main technologies have been used to capture images of the brain: Magnetic Resonance Imaging (MRI) and Positron Emission Tomography (PET). During the development of Alzheimer Disease many changes happen in the brain including variations in shape and volume, and deposits of toxic proteins like the aforementioned amyloid plaques and tau tangles in certain areas of the brain.</p>
<table>
  <tr></tr>
  <tr>
    <td>
      <img src="http://drive.google.com/uc?export=view&id=1WaFRd-c0_c4QRl_w3Y3RchGcrRNusD1y">
    </td>
    <td>
      <img src="http://drive.google.com/uc?export=view&id=12wH512111-ZXZ8mesI_SRsAaACfVCqBI">
    </td> 
     <tr></tr>
      <tr>
        <td style="text-align:center"><i>Healthy (left) vs AD (right) brain</i></td>
        <td style="text-align:center"><i>MRI Image of the brain</i></td>
      </tr>
</table>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Datasets-Exploration-and-Merge">Datasets Exploration and Merge<a class="anchor-link" href="#Datasets-Exploration-and-Merge">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In this section we are going to investigate several datasets and merge the ones we consider more relevant into a single dataset. This task is quite complicated for 3 reasons: there is a lot of data, the labels are not very descriptive, and background information is needed to understand many of the tests. Luckily there are a few useful resources provided in the ADNI website like a data dictionary, and some documents that helps us on this task.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[0]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># UTILITY FUNCTIONS FOR EDA</span>

<span class="c1"># Drops any column not in columns_to_keep</span>
<span class="k">def</span> <span class="nf">drop_columns</span><span class="p">(</span><span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">columns_to_keep</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
    <span class="n">columns_to_drop</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="n">columns_to_keep</span><span class="p">,</span> <span class="n">invert</span><span class="o">=</span><span class="kc">True</span><span class="p">)]</span>
    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns_to_drop</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Wraps pandas merge functions to inform of the number of extra rows created on each merge</span>
<span class="k">def</span> <span class="nf">merge_dfs</span><span class="p">(</span><span class="n">left_df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> 
              <span class="n">right_df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> 
              <span class="n">right_columns</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> 
              <span class="n">on</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> 
              <span class="n">how</span><span class="p">:</span> <span class="nb">str</span><span class="o">=</span><span class="s1">&#39;outer&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
    
    <span class="c1"># merge</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">left_df</span><span class="p">,</span> 
                  <span class="n">right_df</span><span class="p">[</span><span class="n">right_columns</span><span class="p">],</span>
                  <span class="n">on</span><span class="o">=</span><span class="n">on</span><span class="p">,</span>
                  <span class="n">how</span><span class="o">=</span><span class="n">how</span><span class="p">)</span>

    <span class="n">n_added_rows</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">left_df</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Number of rows increased by : </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">n_added_rows</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">df</span>

<span class="c1"># filter failed screenings for ADNI1 phase</span>
<span class="k">def</span> <span class="nf">drop_adni1_failed_screenings</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;VISCODE&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;f&#39;</span><span class="p">]</span>
    
<span class="c1"># in ADNI1 we do not have screening visites registered, only basline</span>
<span class="k">def</span> <span class="nf">swap_adni1_sc_for_bl</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
    <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;VISCODE&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;sc&#39;</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Phase&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;ADNI1&#39;</span><span class="p">),</span> <span class="p">[</span><span class="s1">&#39;VISCODE&#39;</span><span class="p">,</span> <span class="s1">&#39;VISCODE2&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="s1">&#39;bl&#39;</span>
    <span class="k">return</span> <span class="n">df</span>

<span class="c1"># combines the above 2 functions</span>
<span class="k">def</span> <span class="nf">adapt_adni1_viscodes</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">swap_adni1_sc_for_bl</span><span class="p">(</span><span class="n">drop_adni1_failed_screenings</span><span class="p">(</span><span class="n">df</span><span class="p">))</span>

<span class="c1"># replaces -4 and -1 (adni for missing values) with NaN</span>
<span class="k">def</span> <span class="nf">replace_missing_values_with_nan</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">replace</span><span class="p">([</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;-4&#39;</span><span class="p">,</span> <span class="s1">&#39;-1&#39;</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">NaN</span><span class="p">)</span>
    
<span class="c1">### Functions to separate patients per study ###</span>
<span class="k">def</span> <span class="nf">get_adni1_patients_rids</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Phase&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;ADNI1&#39;</span><span class="p">)</span>
                  <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;VISCODE&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;bl&#39;</span><span class="p">)</span>
                  <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;RGCONDCT&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">),</span> <span class="s1">&#39;RID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>

<span class="k">def</span> <span class="nf">get_adnigo_patients_rids</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Phase&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;ADNIGO&#39;</span><span class="p">)</span>
                  <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;VISCODE&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;bl&#39;</span><span class="p">)</span>
                  <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;PTSTATUS&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">),</span> <span class="s1">&#39;RID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>

<span class="k">def</span> <span class="nf">get_adni2_patients_rids</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Phase&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;ADNI2&#39;</span><span class="p">)</span>              
                  <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;VISCODE&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;v03&#39;</span><span class="p">)</span>
                  <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;RGSTATUS&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>
                  <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;DXCHANGE&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">notnull</span><span class="p">()),</span> <span class="s1">&#39;RID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>

<span class="k">def</span> <span class="nf">get_adni1go_patients_rids</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Phase&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;ADNIGO&#39;</span><span class="p">)</span>                  
                  <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;PTSTATUS&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>
                  <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;RID&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">2000</span><span class="p">)</span>
                  <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;DXCHANGE&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">notnull</span><span class="p">()),</span> <span class="s1">&#39;RID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>

<span class="k">def</span> <span class="nf">get_adni1go2_patients_rids</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Phase&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;ADNI2&#39;</span><span class="p">)</span>
                  <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;VISCODE&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;v06&#39;</span><span class="p">)</span>
                  <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;RGSTATUS&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>
                  <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;DXCHANGE&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">notnull</span><span class="p">())</span>
                  <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;RID&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">2000</span><span class="p">),</span> <span class="s1">&#39;RID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>

<span class="k">def</span> <span class="nf">get_adnigo2_patients_rids</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Phase&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;ADNI2&#39;</span><span class="p">)</span>
                  <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;VISCODE&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;v06&#39;</span><span class="p">)</span>
                  <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;RGSTATUS&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>
                  <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;DXCHANGE&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">notnull</span><span class="p">())</span>
                  <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;RID&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">5000</span><span class="p">)</span>
                  <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;RID&#39;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">2000</span><span class="p">),</span> <span class="s1">&#39;RID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>

<span class="k">def</span> <span class="nf">separate_adni_patients_per_phases</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>  
    <span class="n">adni1_rids</span> <span class="o">=</span> <span class="n">get_adni1_patients_rids</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;ADNI1 patients: &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">adni1_rids</span><span class="o">.</span><span class="n">shape</span><span class="p">))</span>

    <span class="n">adnigo_rids</span> <span class="o">=</span> <span class="n">get_adnigo_patients_rids</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;ADNIGO patients: &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">adnigo_rids</span><span class="o">.</span><span class="n">shape</span><span class="p">))</span>
    
    <span class="n">adni2_rids</span> <span class="o">=</span> <span class="n">get_adnig2_patients_rids</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;ADNI2 patients: &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">adni2_rids</span><span class="o">.</span><span class="n">shape</span><span class="p">))</span>

    <span class="n">adni1_go_rids</span> <span class="o">=</span> <span class="n">get_adni1go_patients_rids</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;ADNI1-&gt;ADNIGO patients: &#39;</span> <span class="o">+</span> <span class="n">adni1_go_rids</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>

    <span class="n">adni1_go_2_rids</span> <span class="o">=</span> <span class="n">get_adni1go2_patients_rids</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;ADNI1-&gt;ADNIGO-&gt;ADNI2 patients: &#39;</span> <span class="o">+</span> <span class="n">adni1_go_2_rids</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>

    <span class="n">adnigo_2_rids</span> <span class="o">=</span> <span class="n">get_adnigo2_patients_rids</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;ADNIGO-&gt;ADNI2 patients: &#39;</span> <span class="o">+</span> <span class="n">adnigo_2_rids</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>

    <span class="n">all_valid_rids</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">adni1_rids</span><span class="p">,</span> <span class="n">adnigo_rids</span><span class="p">),</span> <span class="n">adni2_rids</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">all_valid_rids</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">df</span><span class="p">,</span> <span class="n">adni1_rids</span><span class="p">,</span> <span class="n">adnigo_rids</span><span class="p">,</span> <span class="n">adni2_rids</span><span class="p">,</span> <span class="n">adni1_go_rids</span><span class="p">,</span> <span class="n">adni1_go_2_rids</span><span class="p">,</span> <span class="n">adnigo_2_rids</span><span class="p">,</span> <span class="n">all_valid_ids</span>
    
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Diagnosis">Diagnosis<a class="anchor-link" href="#Diagnosis">&#182;</a></h4><p>We will start from the diagnosis dataset, in which we have the diagnosis given to the patients in different visits and phases. The challenge with this dataframe is that the way diagnosis was presented is varies between phases of the study. The first thing we need to do is create only one diagnosis variable that we can use as our response variable.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Diagnosis</span>
<span class="c1">#dx_df = pd.read_csv(&#39;data/DXSUM_PDXCONV_ADNIALL.csv&#39;)</span>
<span class="n">dx_df</span> <span class="o">=</span> <span class="n">read_gdrive_data</span><span class="p">(</span><span class="s1">&#39;1kFSq18g-iqGwPzSxld30RbJy94FSa5y3&#39;</span><span class="p">)</span>
<span class="n">dx_df</span><span class="o">.</span><span class="n">columns</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[5]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>Index([&#39;Phase&#39;, &#39;ID&#39;, &#39;RID&#39;, &#39;SITEID&#39;, &#39;VISCODE&#39;, &#39;VISCODE2&#39;, &#39;USERDATE&#39;, &#39;USERDATE2&#39;, &#39;EXAMDATE&#39;, &#39;DXCHANGE&#39;, &#39;DXCURREN&#39;, &#39;DXCONV&#39;, &#39;DXCONTYP&#39;, &#39;DXREV&#39;, &#39;DXNORM&#39;, &#39;DXNODEP&#39;, &#39;DXMCI&#39;, &#39;DXMDES&#39;, &#39;DXMPTR1&#39;, &#39;DXMPTR2&#39;, &#39;DXMPTR3&#39;, &#39;DXMPTR4&#39;, &#39;DXMPTR5&#39;, &#39;DXMPTR6&#39;, &#39;DXMDUE&#39;, &#39;DXMOTHET&#39;, &#39;DXMOTHSP&#39;, &#39;DXDSEV&#39;, &#39;DXDDUE&#39;, &#39;DXAD&#39;, &#39;DXADES&#39;, &#39;DXAPP&#39;, &#39;DXAPROB&#39;, &#39;DXAMETASP&#39;, &#39;DXAOTHRSP&#39;, &#39;DXAPOSS&#39;, &#39;DXAATYSP&#39;, &#39;DXAMETSP&#39;, &#39;DXAOTHSP&#39;, &#39;DXPARK&#39;, &#39;DXPARKSP&#39;, &#39;DXPDES&#39;, &#39;DXPCOG&#39;, &#39;DXPATYP&#39;, &#39;DXPOTHSP&#39;, &#39;DXDEP&#39;, &#39;DXDEPSP&#39;, &#39;DXOTHDEM&#39;, &#39;DXODES&#39;, &#39;DXOOTHSP&#39;, &#39;DXCONFID&#39;, &#39;DIAGNOSIS&#39;, &#39;update_stamp&#39;], dtype=&#39;object&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[0]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">process_diagnosis</span><span class="p">(</span><span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
    <span class="c1"># adapt values from ADNI 1 to ADNI2/3 style</span>
    <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">dx_df</span><span class="p">[</span><span class="s1">&#39;DXCONV&#39;</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">dx_df</span><span class="p">[</span><span class="s1">&#39;DXCURREN&#39;</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">),</span> <span class="s1">&#39;DXCHANGE&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">dx_df</span><span class="p">[</span><span class="s1">&#39;DXCONV&#39;</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">dx_df</span><span class="p">[</span><span class="s1">&#39;DXCURREN&#39;</span><span class="p">]</span><span class="o">==</span><span class="mi">2</span><span class="p">),</span> <span class="s1">&#39;DXCHANGE&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">dx_df</span><span class="p">[</span><span class="s1">&#39;DXCONV&#39;</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">dx_df</span><span class="p">[</span><span class="s1">&#39;DXCURREN&#39;</span><span class="p">]</span><span class="o">==</span><span class="mi">3</span><span class="p">),</span> <span class="s1">&#39;DXCHANGE&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">dx_df</span><span class="p">[</span><span class="s1">&#39;DXCONV&#39;</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">dx_df</span><span class="p">[</span><span class="s1">&#39;DXCONTYP&#39;</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">),</span> <span class="s1">&#39;DXCHANGE&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">4</span>
    <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">dx_df</span><span class="p">[</span><span class="s1">&#39;DXCONV&#39;</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">dx_df</span><span class="p">[</span><span class="s1">&#39;DXCONTYP&#39;</span><span class="p">]</span><span class="o">==</span><span class="mi">3</span><span class="p">),</span> <span class="s1">&#39;DXCHANGE&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">5</span>
    <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">dx_df</span><span class="p">[</span><span class="s1">&#39;DXCONV&#39;</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">dx_df</span><span class="p">[</span><span class="s1">&#39;DXCONTYP&#39;</span><span class="p">]</span><span class="o">==</span><span class="mi">2</span><span class="p">),</span> <span class="s1">&#39;DXCHANGE&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">6</span>
    <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">dx_df</span><span class="p">[</span><span class="s1">&#39;DXCONV&#39;</span><span class="p">]</span><span class="o">==</span><span class="mi">2</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">dx_df</span><span class="p">[</span><span class="s1">&#39;DXREV&#39;</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">),</span> <span class="s1">&#39;DXCHANGE&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">7</span>
    <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">dx_df</span><span class="p">[</span><span class="s1">&#39;DXCONV&#39;</span><span class="p">]</span><span class="o">==</span><span class="mi">2</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">dx_df</span><span class="p">[</span><span class="s1">&#39;DXREV&#39;</span><span class="p">]</span><span class="o">==</span><span class="mi">2</span><span class="p">),</span> <span class="s1">&#39;DXCHANGE&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">8</span>
    <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">dx_df</span><span class="p">[</span><span class="s1">&#39;DXCONV&#39;</span><span class="p">]</span><span class="o">==</span><span class="mi">2</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">dx_df</span><span class="p">[</span><span class="s1">&#39;DXREV&#39;</span><span class="p">]</span><span class="o">==</span><span class="mi">3</span><span class="p">),</span> <span class="s1">&#39;DXCHANGE&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">9</span>
    
    <span class="c1"># unify all values and create DX column</span>
    <span class="c1"># DXCHANGE=1,7,9 -&gt; Normal (NL)</span>
    <span class="c1"># DXCHANGE=2,4,8 -&gt; Mild Cognitive Impairment (MCI)</span>
    <span class="c1"># DXCHANGE=3,5,6 -&gt; Dementia (D), we are going to consider it as Alzehimer&#39;s Disease (AD)    </span>
    <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;DXCHANGE&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">9</span><span class="p">])),</span> <span class="s1">&#39;DX&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;NL&#39;</span>
    <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;DXCHANGE&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">8</span><span class="p">])),</span> <span class="s1">&#39;DX&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;MCI&#39;</span>
    <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;DXCHANGE&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">])),</span> <span class="s1">&#39;DX&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;AD&#39;</span>
    
    <span class="c1"># drop undesired columns</span>
    <span class="c1"># VISCODE: original visit code</span>
    <span class="c1"># VISCODE2: visit codes transformed to be homogeneus</span>
    <span class="n">columns_to_keep</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Phase&#39;</span><span class="p">,</span> <span class="s1">&#39;RID&#39;</span><span class="p">,</span> <span class="s1">&#39;VISCODE&#39;</span><span class="p">,</span> <span class="s1">&#39;VISCODE2&#39;</span><span class="p">,</span> <span class="s1">&#39;DX&#39;</span><span class="p">]</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">drop_columns</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">columns_to_keep</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">df</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[7]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">adni_merge_df</span> <span class="o">=</span> <span class="n">process_diagnosis</span><span class="p">(</span><span class="n">dx_df</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">adni_merge_df</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
<span class="n">adni_merge_df</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Phase</th>
      <th>RID</th>
      <th>VISCODE</th>
      <th>VISCODE2</th>
      <th>DX</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>ADNI1</td>
      <td>2</td>
      <td>bl</td>
      <td>bl</td>
      <td>NL</td>
    </tr>
    <tr>
      <th>1</th>
      <td>ADNI1</td>
      <td>3</td>
      <td>bl</td>
      <td>bl</td>
      <td>AD</td>
    </tr>
    <tr>
      <th>2</th>
      <td>ADNI1</td>
      <td>5</td>
      <td>bl</td>
      <td>bl</td>
      <td>NL</td>
    </tr>
    <tr>
      <th>3</th>
      <td>ADNI1</td>
      <td>8</td>
      <td>bl</td>
      <td>bl</td>
      <td>NL</td>
    </tr>
    <tr>
      <th>4</th>
      <td>ADNI1</td>
      <td>7</td>
      <td>bl</td>
      <td>bl</td>
      <td>AD</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

<div class="output_area">

<div class="prompt output_prompt">Out[7]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>(11265, 5)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Registry">Registry<a class="anchor-link" href="#Registry">&#182;</a></h4><p>The registry dataset contains dates and some other extra information about all the patient's visits. We are mostly interested in the exam dates but there are some other variables that will help us knowing if the patients actually attended their appointments.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[8]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#registry_df = pd.read_csv(&#39;data/REGISTRY.csv&#39;)</span>
<span class="n">registry_df</span> <span class="o">=</span> <span class="n">read_gdrive_data</span><span class="p">(</span><span class="s1">&#39;1OlbrZi4dUjSBIBtVMUKx7rmQzfFlG8vE&#39;</span><span class="p">)</span>
<span class="n">registry_df</span><span class="o">.</span><span class="n">columns</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[8]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>Index([&#39;Phase&#39;, &#39;ID&#39;, &#39;RID&#39;, &#39;SITEID&#39;, &#39;VISCODE&#39;, &#39;VISCODE2&#39;, &#39;USERDATE&#39;, &#39;USERDATE2&#39;, &#39;PTSTATUS&#39;, &#39;RGSTATUS&#39;, &#39;VISTYPE&#39;, &#39;EXAMDATE&#39;, &#39;RGCONDCT&#39;, &#39;RGREASON&#39;, &#39;RGOTHSPE&#39;, &#39;RGSOURCE&#39;, &#39;RGRESCRN&#39;, &#39;RGPREVID&#39;, &#39;CHANGTR&#39;, &#39;CGTRACK&#39;, &#39;CGTRACK2&#39;, &#39;update_stamp&#39;], dtype=&#39;object&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[0]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># VISTYPE: </span>
<span class="c1"># 1=Standard; 2=Non-standard; 3=Not done (not ADNI3)</span>
<span class="c1"># 1=In Clinic Visit; 2=Telephone Visit; 3=Telephone Neuropathology Follow-up; 4=Not done (ADNI3)</span>
<span class="c1"># RGCONDCT: Was this visit conducted? </span>
<span class="c1"># 1=Yes; 0=No (ADNI1)</span>
<span class="c1"># PTSTATUS:</span>
<span class="c1"># 1=Active; 2=Discontinued from follow up, will not return (ADNIGO, ADNI2)</span>
<span class="c1"># RGSTATUS: Was a screening visit/ADNI2 initial visit performed? </span>
<span class="c1"># 1=Yes; 0=No (ADNI2)</span>
<span class="c1"># EXAMDATE: the date of the examination</span>
<span class="k">def</span> <span class="nf">process_registry</span><span class="p">(</span><span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
    
    <span class="c1"># drop undesired columns</span>
    <span class="n">columns_to_keep</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Phase&#39;</span><span class="p">,</span> <span class="s1">&#39;RID&#39;</span><span class="p">,</span> <span class="s1">&#39;VISCODE&#39;</span><span class="p">,</span> <span class="s1">&#39;VISCODE2&#39;</span><span class="p">,</span> <span class="s1">&#39;PTSTATUS&#39;</span><span class="p">,</span> <span class="s1">&#39;RGSTATUS&#39;</span><span class="p">,</span> <span class="s1">&#39;RGCONDCT&#39;</span><span class="p">,</span> <span class="s1">&#39;VISTYPE&#39;</span><span class="p">,</span> 
                       <span class="s1">&#39;EXAMDATE&#39;</span><span class="p">]</span>    
    <span class="n">df</span> <span class="o">=</span> <span class="n">drop_columns</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">columns_to_keep</span><span class="p">)</span>
    
    <span class="c1"># missing values to NaN</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">replace_missing_values_with_nan</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
    
    <span class="c1"># filter missing visit values</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;VISTYPE&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">notnull</span><span class="p">()</span>
            <span class="o">|</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;RGCONDCT&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">notnull</span><span class="p">()]</span>
    
    <span class="c1"># filter non-conducted visits</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[((</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;VISTYPE&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]))</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Phase&#39;</span><span class="p">]</span><span class="o">!=</span><span class="s1">&#39;ADNI3&#39;</span><span class="p">))</span>
             <span class="o">|</span> <span class="p">((</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;VISTYPE&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]))</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Phase&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;ADNI3&#39;</span><span class="p">))</span>
             <span class="o">|</span> <span class="p">((</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;RGCONDCT&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Phase&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;ADNI1&#39;</span><span class="p">))]</span>
    
    
    <span class="k">return</span> <span class="n">df</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[10]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">registry_df</span> <span class="o">=</span> <span class="n">process_registry</span><span class="p">(</span><span class="n">registry_df</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">registry_df</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="n">registry_df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>(17230, 9)
</pre>
</div>
</div>

<div class="output_area">

<div class="prompt output_prompt">Out[10]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Phase</th>
      <th>RID</th>
      <th>VISCODE</th>
      <th>VISCODE2</th>
      <th>PTSTATUS</th>
      <th>RGSTATUS</th>
      <th>VISTYPE</th>
      <th>EXAMDATE</th>
      <th>RGCONDCT</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>9</th>
      <td>ADNI1</td>
      <td>2</td>
      <td>bl</td>
      <td>bl</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2005-09-08</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>12</th>
      <td>ADNI1</td>
      <td>3</td>
      <td>bl</td>
      <td>bl</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2005-09-12</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>13</th>
      <td>ADNI1</td>
      <td>5</td>
      <td>bl</td>
      <td>bl</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2005-09-07</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>21</th>
      <td>ADNI1</td>
      <td>8</td>
      <td>bl</td>
      <td>bl</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2005-09-19</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>32</th>
      <td>ADNI1</td>
      <td>7</td>
      <td>bl</td>
      <td>bl</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2005-10-06</td>
      <td>1.0</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[11]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">adni_merge_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">adni_merge_df</span><span class="p">,</span> 
                              <span class="n">registry_df</span><span class="p">,</span>
                              <span class="n">on</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;RID&#39;</span><span class="p">,</span> <span class="s1">&#39;Phase&#39;</span><span class="p">,</span> <span class="s1">&#39;VISCODE&#39;</span><span class="p">,</span> <span class="s1">&#39;VISCODE2&#39;</span><span class="p">],</span>
                              <span class="n">how</span><span class="o">=</span><span class="s1">&#39;outer&#39;</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">adni_merge_df</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
<span class="n">adni_merge_df</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Phase</th>
      <th>RID</th>
      <th>VISCODE</th>
      <th>VISCODE2</th>
      <th>DX</th>
      <th>PTSTATUS</th>
      <th>RGSTATUS</th>
      <th>VISTYPE</th>
      <th>EXAMDATE</th>
      <th>RGCONDCT</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>ADNI1</td>
      <td>2</td>
      <td>bl</td>
      <td>bl</td>
      <td>NL</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2005-09-08</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>ADNI1</td>
      <td>3</td>
      <td>bl</td>
      <td>bl</td>
      <td>AD</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2005-09-12</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>ADNI1</td>
      <td>5</td>
      <td>bl</td>
      <td>bl</td>
      <td>NL</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2005-09-07</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>ADNI1</td>
      <td>8</td>
      <td>bl</td>
      <td>bl</td>
      <td>NL</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2005-09-19</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>ADNI1</td>
      <td>7</td>
      <td>bl</td>
      <td>bl</td>
      <td>AD</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2005-10-06</td>
      <td>1.0</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

<div class="output_area">

<div class="prompt output_prompt">Out[11]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>(17240, 10)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Demographics">Demographics<a class="anchor-link" href="#Demographics">&#182;</a></h4><p>We are also intereted in some demographic information about the patients:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[12]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#demog_df = pd.read_csv(&#39;data/PTDEMOG.csv&#39;)</span>
<span class="n">demog_df</span> <span class="o">=</span> <span class="n">read_gdrive_data</span><span class="p">(</span><span class="s1">&#39;1dutaXFPBw9CsnNWcZ9YZmej1rsojFKbI&#39;</span><span class="p">)</span>
<span class="n">demog_df</span><span class="o">.</span><span class="n">columns</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[12]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>Index([&#39;Phase&#39;, &#39;ID&#39;, &#39;RID&#39;, &#39;SITEID&#39;, &#39;VISCODE&#39;, &#39;VISCODE2&#39;, &#39;USERDATE&#39;, &#39;USERDATE2&#39;, &#39;PTSOURCE&#39;, &#39;PTGENDER&#39;, &#39;PTDOBMM&#39;, &#39;PTDOBYY&#39;, &#39;PTHAND&#39;, &#39;PTMARRY&#39;, &#39;PTEDUCAT&#39;, &#39;PTWORKHS&#39;, &#39;PTWORK&#39;, &#39;PTWRECNT&#39;, &#39;PTNOTRT&#39;, &#39;PTRTYR&#39;, &#39;PTHOME&#39;, &#39;PTOTHOME&#39;, &#39;PTTLANG&#39;, &#39;PTPLANG&#39;, &#39;PTPSPEC&#39;, &#39;PTCOGBEG&#39;, &#39;PTMCIBEG&#39;, &#39;PTADBEG&#39;, &#39;PTADDX&#39;, &#39;PTETHCAT&#39;, &#39;PTRACCAT&#39;, &#39;update_stamp&#39;], dtype=&#39;object&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[0]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#PTGENDER: 1=Male; 2=Female</span>
<span class="c1">#PTMARRY: 1=Married; 2=Widowed; 3=Divorced; 4=Never Married; 5=Unknown</span>
<span class="c1">#PTRACCAT: 1=American Indian or Alaskan Native; 2=Asian; 3=Native Hawaiian or Other Pacific Islander;</span>
<span class="c1">#          4=Black or African American; 5=White; 6=More than one race; 7=Unknown</span>
<span class="c1">#PTETHCAT: 1=Hispanic or Latino; 2=Not Hispanic or Latino; 3=Unknown</span>
<span class="c1">#PTEDUCAT: years of education</span>
<span class="c1">#PTDOBMM, PTDOBYY: year and month of birth</span>
<span class="k">def</span> <span class="nf">process_demographics</span><span class="p">(</span><span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
     
    <span class="c1"># adapt VISCODE to prevent duplication of rows</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">adapt_adni1_viscodes</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">df</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[14]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">demog_df</span> <span class="o">=</span> <span class="n">process_demographics</span><span class="p">(</span><span class="n">demog_df</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">demog_df</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
<span class="n">demog_df</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Phase</th>
      <th>ID</th>
      <th>RID</th>
      <th>SITEID</th>
      <th>VISCODE</th>
      <th>VISCODE2</th>
      <th>USERDATE</th>
      <th>USERDATE2</th>
      <th>PTSOURCE</th>
      <th>PTGENDER</th>
      <th>PTDOBMM</th>
      <th>PTDOBYY</th>
      <th>PTHAND</th>
      <th>PTMARRY</th>
      <th>PTEDUCAT</th>
      <th>PTWORKHS</th>
      <th>PTWORK</th>
      <th>PTWRECNT</th>
      <th>PTNOTRT</th>
      <th>PTRTYR</th>
      <th>PTHOME</th>
      <th>PTOTHOME</th>
      <th>PTTLANG</th>
      <th>PTPLANG</th>
      <th>PTPSPEC</th>
      <th>PTCOGBEG</th>
      <th>PTMCIBEG</th>
      <th>PTADBEG</th>
      <th>PTADDX</th>
      <th>PTETHCAT</th>
      <th>PTRACCAT</th>
      <th>update_stamp</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>ADNI1</td>
      <td>18</td>
      <td>2</td>
      <td>107</td>
      <td>bl</td>
      <td>bl</td>
      <td>2005-08-17</td>
      <td>NaN</td>
      <td>1</td>
      <td>1.0</td>
      <td>4.0</td>
      <td>1931.0</td>
      <td>2.0</td>
      <td>1.0</td>
      <td>16.0</td>
      <td>-4.0</td>
      <td>computer progammer</td>
      <td>computer programmer</td>
      <td>1.0</td>
      <td>--/--/1989</td>
      <td>1.0</td>
      <td>-4</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>-4</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-4.0</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>5.0</td>
      <td>2005-08-17 00:00:00.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>ADNI1</td>
      <td>22</td>
      <td>3</td>
      <td>107</td>
      <td>bl</td>
      <td>bl</td>
      <td>2005-08-18</td>
      <td>NaN</td>
      <td>1</td>
      <td>1.0</td>
      <td>5.0</td>
      <td>1924.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>18.0</td>
      <td>-4.0</td>
      <td>chemical engineer</td>
      <td>chemical engineer</td>
      <td>1.0</td>
      <td>9/18/1989</td>
      <td>3.0</td>
      <td>-4</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>-4</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1999.0</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>5.0</td>
      <td>2005-08-18 00:00:00.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>ADNI1</td>
      <td>24</td>
      <td>4</td>
      <td>10</td>
      <td>bl</td>
      <td>bl</td>
      <td>2005-08-18</td>
      <td>NaN</td>
      <td>1</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1938.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>10.0</td>
      <td>-4.0</td>
      <td>Raw Material Analyzin</td>
      <td>Mechanic</td>
      <td>0.0</td>
      <td>-4</td>
      <td>1.0</td>
      <td>-4</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>-4</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-4.0</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>5.0</td>
      <td>2005-08-18 00:00:00.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>ADNI1</td>
      <td>26</td>
      <td>5</td>
      <td>107</td>
      <td>bl</td>
      <td>bl</td>
      <td>2005-08-23</td>
      <td>NaN</td>
      <td>1</td>
      <td>1.0</td>
      <td>12.0</td>
      <td>1931.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>16.0</td>
      <td>-4.0</td>
      <td>engineer</td>
      <td>engineer</td>
      <td>1.0</td>
      <td>12/1/1987</td>
      <td>1.0</td>
      <td>-4</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>-4</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-4.0</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>5.0</td>
      <td>2005-08-23 00:00:00.0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>ADNI1</td>
      <td>28</td>
      <td>7</td>
      <td>10</td>
      <td>bl</td>
      <td>bl</td>
      <td>2005-08-25</td>
      <td>NaN</td>
      <td>1</td>
      <td>1.0</td>
      <td>4.0</td>
      <td>1930.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>10.0</td>
      <td>-4.0</td>
      <td>Factory printing boxes</td>
      <td>factory printing boxes</td>
      <td>1.0</td>
      <td>--/--/1995</td>
      <td>1.0</td>
      <td>-4</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>-4</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2002.0</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>6.0</td>
      <td>2005-08-25 00:00:00.0</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

<div class="output_area">

<div class="prompt output_prompt">Out[14]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>(3794, 32)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[15]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">adni_merge_df</span> <span class="o">=</span> <span class="n">merge_dfs</span><span class="p">(</span><span class="n">adni_merge_df</span><span class="p">,</span> 
                          <span class="n">demog_df</span><span class="p">,</span>
                          <span class="p">[</span><span class="s1">&#39;Phase&#39;</span><span class="p">,</span> <span class="s1">&#39;RID&#39;</span><span class="p">,</span> <span class="s1">&#39;VISCODE&#39;</span><span class="p">,</span> <span class="s1">&#39;VISCODE2&#39;</span><span class="p">,</span> <span class="s1">&#39;PTGENDER&#39;</span><span class="p">,</span> <span class="s1">&#39;PTDOBMM&#39;</span><span class="p">,</span> <span class="s1">&#39;PTDOBYY&#39;</span><span class="p">,</span> <span class="s1">&#39;PTMARRY&#39;</span><span class="p">,</span>
                           <span class="s1">&#39;PTEDUCAT&#39;</span><span class="p">,</span> <span class="s1">&#39;PTETHCAT&#39;</span><span class="p">,</span> <span class="s1">&#39;PTRACCAT&#39;</span><span class="p">],</span>
                          <span class="p">[</span><span class="s1">&#39;RID&#39;</span><span class="p">,</span> <span class="s1">&#39;Phase&#39;</span><span class="p">,</span> <span class="s1">&#39;VISCODE&#39;</span><span class="p">,</span> <span class="s1">&#39;VISCODE2&#39;</span><span class="p">])</span>

<span class="c1"># Remove some values that only contains demographics screening after some exploration</span>
<span class="n">adni_merge_df</span> <span class="o">=</span> <span class="n">adni_merge_df</span><span class="p">[(</span><span class="n">adni_merge_df</span><span class="p">[</span><span class="s1">&#39;DX&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">notnull</span><span class="p">())</span> 
                              <span class="o">|</span> <span class="p">(</span><span class="n">adni_merge_df</span><span class="p">[</span><span class="s1">&#39;EXAMDATE&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">notnull</span><span class="p">())]</span>

<span class="n">display</span><span class="p">(</span><span class="n">adni_merge_df</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
<span class="n">adni_merge_df</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Number of rows increased by : 13
</pre>
</div>
</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Phase</th>
      <th>RID</th>
      <th>VISCODE</th>
      <th>VISCODE2</th>
      <th>DX</th>
      <th>PTSTATUS</th>
      <th>RGSTATUS</th>
      <th>VISTYPE</th>
      <th>EXAMDATE</th>
      <th>RGCONDCT</th>
      <th>PTGENDER</th>
      <th>PTDOBMM</th>
      <th>PTDOBYY</th>
      <th>PTMARRY</th>
      <th>PTEDUCAT</th>
      <th>PTETHCAT</th>
      <th>PTRACCAT</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>ADNI1</td>
      <td>2</td>
      <td>bl</td>
      <td>bl</td>
      <td>NL</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2005-09-08</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>4.0</td>
      <td>1931.0</td>
      <td>1.0</td>
      <td>16.0</td>
      <td>2.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>ADNI1</td>
      <td>3</td>
      <td>bl</td>
      <td>bl</td>
      <td>AD</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2005-09-12</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>5.0</td>
      <td>1924.0</td>
      <td>1.0</td>
      <td>18.0</td>
      <td>2.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>ADNI1</td>
      <td>5</td>
      <td>bl</td>
      <td>bl</td>
      <td>NL</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2005-09-07</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>12.0</td>
      <td>1931.0</td>
      <td>1.0</td>
      <td>16.0</td>
      <td>2.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>ADNI1</td>
      <td>8</td>
      <td>bl</td>
      <td>bl</td>
      <td>NL</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2005-09-19</td>
      <td>1.0</td>
      <td>2.0</td>
      <td>3.0</td>
      <td>1921.0</td>
      <td>2.0</td>
      <td>18.0</td>
      <td>2.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>ADNI1</td>
      <td>7</td>
      <td>bl</td>
      <td>bl</td>
      <td>AD</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2005-10-06</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>4.0</td>
      <td>1930.0</td>
      <td>1.0</td>
      <td>10.0</td>
      <td>1.0</td>
      <td>6.0</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

<div class="output_area">

<div class="prompt output_prompt">Out[15]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>(17244, 17)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Medical-History">Medical History<a class="anchor-link" href="#Medical-History">&#182;</a></h4><p>Let us take a look to the medical history and select some predictors:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[16]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#med_hist_df = pd.read_csv(&#39;data/MEDHIST.csv&#39;)</span>
<span class="n">med_hist_df</span> <span class="o">=</span> <span class="n">read_gdrive_data</span><span class="p">(</span><span class="s1">&#39;1ppPKmBpEh7zOuQCnTPTJ2CV-NKs9npbi&#39;</span><span class="p">)</span>
<span class="n">med_hist_df</span><span class="o">.</span><span class="n">columns</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[16]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>Index([&#39;Phase&#39;, &#39;ID&#39;, &#39;RID&#39;, &#39;SITEID&#39;, &#39;VISCODE&#39;, &#39;VISCODE2&#39;, &#39;USERDATE&#39;, &#39;USERDATE2&#39;, &#39;EXAMDATE&#39;, &#39;MHSOURCE&#39;, &#39;MHPSYCH&#39;, &#39;MH2NEURL&#39;, &#39;MH3HEAD&#39;, &#39;MH4CARD&#39;, &#39;MH5RESP&#39;, &#39;MH6HEPAT&#39;, &#39;MH7DERM&#39;, &#39;MH8MUSCL&#39;, &#39;MH9ENDO&#39;, &#39;MH10GAST&#39;, &#39;MH11HEMA&#39;, &#39;MH12RENA&#39;, &#39;MH13ALLE&#39;, &#39;MH14ALCH&#39;, &#39;MH14AALCH&#39;, &#39;MH14BALCH&#39;, &#39;MH14CALCH&#39;, &#39;MH15DRUG&#39;, &#39;MH15ADRUG&#39;, &#39;MH15BDRUG&#39;, &#39;MH16SMOK&#39;, &#39;MH16ASMOK&#39;, &#39;MH16BSMOK&#39;, &#39;MH16CSMOK&#39;, &#39;MH17MALI&#39;, &#39;MH18SURG&#39;, &#39;MH19OTHR&#39;, &#39;MHCOMMEN&#39;, &#39;update_stamp&#39;], dtype=&#39;object&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[17]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># adapt VISCODE to prevent duplication of rows</span>
<span class="n">med_hist_df</span> <span class="o">=</span> <span class="n">adapt_adni1_viscodes</span><span class="p">(</span><span class="n">med_hist_df</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">med_hist_df</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
<span class="n">med_hist_df</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Phase</th>
      <th>ID</th>
      <th>RID</th>
      <th>SITEID</th>
      <th>VISCODE</th>
      <th>VISCODE2</th>
      <th>USERDATE</th>
      <th>USERDATE2</th>
      <th>EXAMDATE</th>
      <th>MHSOURCE</th>
      <th>MHPSYCH</th>
      <th>MH2NEURL</th>
      <th>MH3HEAD</th>
      <th>MH4CARD</th>
      <th>MH5RESP</th>
      <th>MH6HEPAT</th>
      <th>MH7DERM</th>
      <th>MH8MUSCL</th>
      <th>MH9ENDO</th>
      <th>MH10GAST</th>
      <th>MH11HEMA</th>
      <th>MH12RENA</th>
      <th>MH13ALLE</th>
      <th>MH14ALCH</th>
      <th>MH14AALCH</th>
      <th>MH14BALCH</th>
      <th>MH14CALCH</th>
      <th>MH15DRUG</th>
      <th>MH15ADRUG</th>
      <th>MH15BDRUG</th>
      <th>MH16SMOK</th>
      <th>MH16ASMOK</th>
      <th>MH16BSMOK</th>
      <th>MH16CSMOK</th>
      <th>MH17MALI</th>
      <th>MH18SURG</th>
      <th>MH19OTHR</th>
      <th>MHCOMMEN</th>
      <th>update_stamp</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>ADNI1</td>
      <td>8</td>
      <td>2</td>
      <td>107</td>
      <td>bl</td>
      <td>bl</td>
      <td>2005-08-17</td>
      <td>NaN</td>
      <td>2005-08-17</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>-4</td>
      <td>2005-08-17 00:00:00.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>ADNI1</td>
      <td>12</td>
      <td>3</td>
      <td>107</td>
      <td>bl</td>
      <td>bl</td>
      <td>2005-08-18</td>
      <td>NaN</td>
      <td>2005-08-18</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>-4</td>
      <td>2005-08-18 00:00:00.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>ADNI1</td>
      <td>14</td>
      <td>4</td>
      <td>10</td>
      <td>bl</td>
      <td>bl</td>
      <td>2005-08-18</td>
      <td>NaN</td>
      <td>2005-08-18</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>-4</td>
      <td>2005-08-18 00:00:00.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>ADNI1</td>
      <td>16</td>
      <td>5</td>
      <td>107</td>
      <td>bl</td>
      <td>bl</td>
      <td>2005-08-23</td>
      <td>NaN</td>
      <td>2005-08-23</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>-4</td>
      <td>2005-08-23 00:00:00.0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>ADNI1</td>
      <td>18</td>
      <td>7</td>
      <td>10</td>
      <td>bl</td>
      <td>bl</td>
      <td>2005-08-25</td>
      <td>NaN</td>
      <td>2005-08-25</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>-4</td>
      <td>2005-08-25 00:00:00.0</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

<div class="output_area">

<div class="prompt output_prompt">Out[17]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>(2749, 39)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[18]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#MHPSYCH, MH2NEURL: psychiatric history or neurological history</span>
<span class="c1">#MH14ALCH, &#39;MH15DRUG&#39;: alcohol or drug abuse</span>
<span class="n">adni_merge_df</span> <span class="o">=</span> <span class="n">merge_dfs</span><span class="p">(</span><span class="n">adni_merge_df</span><span class="p">,</span> 
                          <span class="n">med_hist_df</span><span class="p">,</span>
                          <span class="p">[</span><span class="s1">&#39;Phase&#39;</span><span class="p">,</span> <span class="s1">&#39;RID&#39;</span><span class="p">,</span> <span class="s1">&#39;VISCODE&#39;</span><span class="p">,</span> <span class="s1">&#39;VISCODE2&#39;</span><span class="p">,</span> <span class="s1">&#39;MHPSYCH&#39;</span><span class="p">,</span> <span class="s1">&#39;MH2NEURL&#39;</span><span class="p">,</span> <span class="s1">&#39;MH14ALCH&#39;</span> <span class="p">,</span> <span class="s1">&#39;MH15DRUG&#39;</span><span class="p">],</span>
                          <span class="p">[</span><span class="s1">&#39;RID&#39;</span><span class="p">,</span> <span class="s1">&#39;Phase&#39;</span><span class="p">,</span> <span class="s1">&#39;VISCODE&#39;</span><span class="p">,</span> <span class="s1">&#39;VISCODE2&#39;</span><span class="p">])</span>

<span class="n">adni_merge_df</span> <span class="o">=</span> <span class="n">adni_merge_df</span><span class="p">[(</span><span class="n">adni_merge_df</span><span class="p">[</span><span class="s1">&#39;DX&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">notnull</span><span class="p">())</span> 
                              <span class="o">|</span> <span class="p">(</span><span class="n">adni_merge_df</span><span class="p">[</span><span class="s1">&#39;EXAMDATE&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">notnull</span><span class="p">())]</span>

<span class="n">display</span><span class="p">(</span><span class="n">adni_merge_df</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
<span class="n">adni_merge_df</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Number of rows increased by : 3
</pre>
</div>
</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Phase</th>
      <th>RID</th>
      <th>VISCODE</th>
      <th>VISCODE2</th>
      <th>DX</th>
      <th>PTSTATUS</th>
      <th>RGSTATUS</th>
      <th>VISTYPE</th>
      <th>EXAMDATE</th>
      <th>RGCONDCT</th>
      <th>PTGENDER</th>
      <th>PTDOBMM</th>
      <th>PTDOBYY</th>
      <th>PTMARRY</th>
      <th>PTEDUCAT</th>
      <th>PTETHCAT</th>
      <th>PTRACCAT</th>
      <th>MHPSYCH</th>
      <th>MH2NEURL</th>
      <th>MH14ALCH</th>
      <th>MH15DRUG</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>ADNI1</td>
      <td>2</td>
      <td>bl</td>
      <td>bl</td>
      <td>NL</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2005-09-08</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>4.0</td>
      <td>1931.0</td>
      <td>1.0</td>
      <td>16.0</td>
      <td>2.0</td>
      <td>5.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>ADNI1</td>
      <td>3</td>
      <td>bl</td>
      <td>bl</td>
      <td>AD</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2005-09-12</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>5.0</td>
      <td>1924.0</td>
      <td>1.0</td>
      <td>18.0</td>
      <td>2.0</td>
      <td>5.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>ADNI1</td>
      <td>5</td>
      <td>bl</td>
      <td>bl</td>
      <td>NL</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2005-09-07</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>12.0</td>
      <td>1931.0</td>
      <td>1.0</td>
      <td>16.0</td>
      <td>2.0</td>
      <td>5.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>ADNI1</td>
      <td>8</td>
      <td>bl</td>
      <td>bl</td>
      <td>NL</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2005-09-19</td>
      <td>1.0</td>
      <td>2.0</td>
      <td>3.0</td>
      <td>1921.0</td>
      <td>2.0</td>
      <td>18.0</td>
      <td>2.0</td>
      <td>5.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>ADNI1</td>
      <td>7</td>
      <td>bl</td>
      <td>bl</td>
      <td>AD</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2005-10-06</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>4.0</td>
      <td>1930.0</td>
      <td>1.0</td>
      <td>10.0</td>
      <td>1.0</td>
      <td>6.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

<div class="output_area">

<div class="prompt output_prompt">Out[18]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>(17244, 21)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Neuropsychological-Tests">Neuropsychological Tests<a class="anchor-link" href="#Neuropsychological-Tests">&#182;</a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Neuropsychological tests follow quite a common pattern, we have many columns corresponding to particular questions of the test and then we have a total score. In some cases like ADAS, one have to actually combine some rows or do some pre-processing for the final values to be populated.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h5 id="CDR">CDR<a class="anchor-link" href="#CDR">&#182;</a></h5><p>Clinical Dementia Rating (CDR) test assesses cognitive and functional performance in six areas:</p>
<ul>
<li>memory </li>
<li>orientation</li>
<li>judgment and problem solving</li>
<li>community affairs</li>
<li>home &amp; hobbies</li>
<li>personal care</li>
</ul>
<p>Scoring:</p>
<ul>
<li>0 = None</li>
<li>0.5 = Very Mild</li>
<li>1 = Mild</li>
<li>2 = Moderate</li>
<li>3 = Severe</li>
</ul>
<p>Evaluation:
The score in independent areas are combined to obtain a composite score ranging from 0 through 3</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[19]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#cdr_df = pd.read_csv(&#39;data/&#39; + &#39;CDR.csv&#39;)</span>
<span class="n">cdr_df</span> <span class="o">=</span> <span class="n">read_gdrive_data</span><span class="p">(</span><span class="s1">&#39;1QUwihXlPcnwkpfRFz1IsUtmzSY2Bm8_Y&#39;</span><span class="p">)</span>
<span class="n">cdr_df</span><span class="o">.</span><span class="n">columns</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[19]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>Index([&#39;Phase&#39;, &#39;ID&#39;, &#39;RID&#39;, &#39;SITEID&#39;, &#39;VISCODE&#39;, &#39;VISCODE2&#39;, &#39;USERDATE&#39;, &#39;USERDATE2&#39;, &#39;EXAMDATE&#39;, &#39;CDSOURCE&#39;, &#39;CDVERSION&#39;, &#39;CDMEMORY&#39;, &#39;CDORIENT&#39;, &#39;CDJUDGE&#39;, &#39;CDCOMMUN&#39;, &#39;CDHOME&#39;, &#39;CDCARE&#39;, &#39;CDGLOBAL&#39;, &#39;CDRSB&#39;, &#39;CDSOB&#39;, &#39;update_stamp&#39;], dtype=&#39;object&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[20]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># preprocessing</span>
<span class="n">cdr_df</span> <span class="o">=</span> <span class="n">adapt_adni1_viscodes</span><span class="p">(</span><span class="n">cdr_df</span><span class="p">)</span>
<span class="n">cdr_df</span> <span class="o">=</span> <span class="n">replace_missing_values_with_nan</span><span class="p">(</span><span class="n">cdr_df</span><span class="p">)</span>
<span class="n">cdr_df</span> <span class="o">=</span> <span class="n">cdr_df</span><span class="p">[</span><span class="n">cdr_df</span><span class="p">[</span><span class="s1">&#39;CDGLOBAL&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">notnull</span><span class="p">()]</span>
<span class="c1"># merge</span>
<span class="n">adni_merge_df</span> <span class="o">=</span> <span class="n">merge_dfs</span><span class="p">(</span><span class="n">adni_merge_df</span><span class="p">,</span> 
                          <span class="n">cdr_df</span><span class="p">,</span>
                          <span class="p">[</span><span class="s1">&#39;RID&#39;</span><span class="p">,</span> <span class="s1">&#39;Phase&#39;</span><span class="p">,</span> <span class="s1">&#39;VISCODE&#39;</span><span class="p">,</span> <span class="s1">&#39;VISCODE2&#39;</span><span class="p">,</span> <span class="s1">&#39;CDGLOBAL&#39;</span><span class="p">],</span>
                          <span class="p">[</span><span class="s1">&#39;RID&#39;</span><span class="p">,</span> <span class="s1">&#39;Phase&#39;</span><span class="p">,</span> <span class="s1">&#39;VISCODE&#39;</span><span class="p">,</span> <span class="s1">&#39;VISCODE2&#39;</span><span class="p">])</span>
<span class="n">display</span><span class="p">(</span><span class="n">adni_merge_df</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
<span class="n">adni_merge_df</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Number of rows increased by : 11
</pre>
</div>
</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Phase</th>
      <th>RID</th>
      <th>VISCODE</th>
      <th>VISCODE2</th>
      <th>DX</th>
      <th>PTSTATUS</th>
      <th>RGSTATUS</th>
      <th>VISTYPE</th>
      <th>EXAMDATE</th>
      <th>RGCONDCT</th>
      <th>PTGENDER</th>
      <th>PTDOBMM</th>
      <th>PTDOBYY</th>
      <th>PTMARRY</th>
      <th>PTEDUCAT</th>
      <th>PTETHCAT</th>
      <th>PTRACCAT</th>
      <th>MHPSYCH</th>
      <th>MH2NEURL</th>
      <th>MH14ALCH</th>
      <th>MH15DRUG</th>
      <th>CDGLOBAL</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>ADNI1</td>
      <td>2</td>
      <td>bl</td>
      <td>bl</td>
      <td>NL</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2005-09-08</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>4.0</td>
      <td>1931.0</td>
      <td>1.0</td>
      <td>16.0</td>
      <td>2.0</td>
      <td>5.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>ADNI1</td>
      <td>3</td>
      <td>bl</td>
      <td>bl</td>
      <td>AD</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2005-09-12</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>5.0</td>
      <td>1924.0</td>
      <td>1.0</td>
      <td>18.0</td>
      <td>2.0</td>
      <td>5.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>ADNI1</td>
      <td>5</td>
      <td>bl</td>
      <td>bl</td>
      <td>NL</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2005-09-07</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>12.0</td>
      <td>1931.0</td>
      <td>1.0</td>
      <td>16.0</td>
      <td>2.0</td>
      <td>5.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>ADNI1</td>
      <td>8</td>
      <td>bl</td>
      <td>bl</td>
      <td>NL</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2005-09-19</td>
      <td>1.0</td>
      <td>2.0</td>
      <td>3.0</td>
      <td>1921.0</td>
      <td>2.0</td>
      <td>18.0</td>
      <td>2.0</td>
      <td>5.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>ADNI1</td>
      <td>7</td>
      <td>bl</td>
      <td>bl</td>
      <td>AD</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2005-10-06</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>4.0</td>
      <td>1930.0</td>
      <td>1.0</td>
      <td>10.0</td>
      <td>1.0</td>
      <td>6.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

<div class="output_area">

<div class="prompt output_prompt">Out[20]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>(17255, 22)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h5 id="FAQ">FAQ<a class="anchor-link" href="#FAQ">&#182;</a></h5><p>The Functional Activities Questionnaire (FAQ) is a 10 question test that measures instrumental activities of daily living (IADLs), such as preparing balanced meals and managing personal finances.</p>
<p>Scoring:</p>
<ul>
<li>Dependent = 3</li>
<li>Requires assistance = 2</li>
<li>Has difficulty but does by self = 1</li>
<li>Normal = 0</li>
<li>Never did [the activity] but could do now = 0</li>
<li>Never did and would have difficulty now = 1</li>
</ul>
<p>Evaluation:
Sum individual scores (range will be 0-30). A cut point of 9 (dependent in 3 or more activities) is recommended to indicate impaired function and possible cognitive impairment.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[21]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#faq_df = pd.read_csv(&#39;data/&#39; + &#39;FAQ.csv&#39;)</span>
<span class="n">faq_df</span> <span class="o">=</span> <span class="n">read_gdrive_data</span><span class="p">(</span><span class="s1">&#39;1jS7lMzUjoAEOCpf_kfwJf-OiTfiZF5vz&#39;</span><span class="p">)</span>
<span class="n">faq_df</span><span class="o">.</span><span class="n">columns</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[21]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>Index([&#39;Phase&#39;, &#39;ID&#39;, &#39;RID&#39;, &#39;SITEID&#39;, &#39;VISCODE&#39;, &#39;VISCODE2&#39;, &#39;USERDATE&#39;, &#39;USERDATE2&#39;, &#39;EXAMDATE&#39;, &#39;FAQSOURCE&#39;, &#39;FAQFINAN&#39;, &#39;FAQFORM&#39;, &#39;FAQSHOP&#39;, &#39;FAQGAME&#39;, &#39;FAQBEVG&#39;, &#39;FAQMEAL&#39;, &#39;FAQEVENT&#39;, &#39;FAQTV&#39;, &#39;FAQREM&#39;, &#39;FAQTRAVL&#39;, &#39;FAQTOTAL&#39;, &#39;SPID&#39;, &#39;update_stamp&#39;], dtype=&#39;object&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[22]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># preprocessing</span>
<span class="n">faq_df</span> <span class="o">=</span> <span class="n">adapt_adni1_viscodes</span><span class="p">(</span><span class="n">faq_df</span><span class="p">)</span>
<span class="n">faq_df</span> <span class="o">=</span> <span class="n">replace_missing_values_with_nan</span><span class="p">(</span><span class="n">faq_df</span><span class="p">)</span>
<span class="n">faq_df</span> <span class="o">=</span> <span class="n">faq_df</span><span class="p">[</span><span class="n">faq_df</span><span class="p">[</span><span class="s1">&#39;FAQTOTAL&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">notnull</span><span class="p">()]</span>
<span class="c1"># merge</span>
<span class="n">adni_merge_df</span> <span class="o">=</span> <span class="n">merge_dfs</span><span class="p">(</span><span class="n">adni_merge_df</span><span class="p">,</span> 
                          <span class="n">faq_df</span><span class="p">,</span>
                          <span class="p">[</span><span class="s1">&#39;RID&#39;</span><span class="p">,</span> <span class="s1">&#39;Phase&#39;</span><span class="p">,</span> <span class="s1">&#39;VISCODE&#39;</span><span class="p">,</span> <span class="s1">&#39;VISCODE2&#39;</span><span class="p">,</span> <span class="s1">&#39;FAQTOTAL&#39;</span><span class="p">],</span>
                          <span class="p">[</span><span class="s1">&#39;RID&#39;</span><span class="p">,</span> <span class="s1">&#39;Phase&#39;</span><span class="p">,</span> <span class="s1">&#39;VISCODE&#39;</span><span class="p">,</span> <span class="s1">&#39;VISCODE2&#39;</span><span class="p">])</span>
<span class="n">display</span><span class="p">(</span><span class="n">adni_merge_df</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
<span class="n">adni_merge_df</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Number of rows increased by : 3
</pre>
</div>
</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Phase</th>
      <th>RID</th>
      <th>VISCODE</th>
      <th>VISCODE2</th>
      <th>DX</th>
      <th>PTSTATUS</th>
      <th>RGSTATUS</th>
      <th>VISTYPE</th>
      <th>EXAMDATE</th>
      <th>RGCONDCT</th>
      <th>PTGENDER</th>
      <th>PTDOBMM</th>
      <th>PTDOBYY</th>
      <th>PTMARRY</th>
      <th>PTEDUCAT</th>
      <th>PTETHCAT</th>
      <th>PTRACCAT</th>
      <th>MHPSYCH</th>
      <th>MH2NEURL</th>
      <th>MH14ALCH</th>
      <th>MH15DRUG</th>
      <th>CDGLOBAL</th>
      <th>FAQTOTAL</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>ADNI1</td>
      <td>2</td>
      <td>bl</td>
      <td>bl</td>
      <td>NL</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2005-09-08</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>4.0</td>
      <td>1931.0</td>
      <td>1.0</td>
      <td>16.0</td>
      <td>2.0</td>
      <td>5.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>ADNI1</td>
      <td>3</td>
      <td>bl</td>
      <td>bl</td>
      <td>AD</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2005-09-12</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>5.0</td>
      <td>1924.0</td>
      <td>1.0</td>
      <td>18.0</td>
      <td>2.0</td>
      <td>5.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>10.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>ADNI1</td>
      <td>5</td>
      <td>bl</td>
      <td>bl</td>
      <td>NL</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2005-09-07</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>12.0</td>
      <td>1931.0</td>
      <td>1.0</td>
      <td>16.0</td>
      <td>2.0</td>
      <td>5.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>ADNI1</td>
      <td>8</td>
      <td>bl</td>
      <td>bl</td>
      <td>NL</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2005-09-19</td>
      <td>1.0</td>
      <td>2.0</td>
      <td>3.0</td>
      <td>1921.0</td>
      <td>2.0</td>
      <td>18.0</td>
      <td>2.0</td>
      <td>5.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>ADNI1</td>
      <td>7</td>
      <td>bl</td>
      <td>bl</td>
      <td>AD</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2005-10-06</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>4.0</td>
      <td>1930.0</td>
      <td>1.0</td>
      <td>10.0</td>
      <td>1.0</td>
      <td>6.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>17.0</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

<div class="output_area">

<div class="prompt output_prompt">Out[22]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>(17258, 23)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h5 id="MMSE">MMSE<a class="anchor-link" href="#MMSE">&#182;</a></h5><p>The Mini–Mental State Examination (MMSE) is a questionnaire that measures cognitive impairment that is used extensively clinically and in research.</p>
<p>Scoring:</p>
<p>30-points in total</p>
<p>Evaluation:</p>
<ul>
<li>Singel Cutoff: &lt;24 Abnormal</li>
<li>No impairment: 24-30</li>
<li>Mild cognitive impairment: 18-23</li>
<li>Severe cognitive impairment: 0-17</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[23]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#mmse_df = pd.read_csv(&#39;data/&#39; + &#39;MMSE.csv&#39;)</span>
<span class="n">mmse_df</span> <span class="o">=</span> <span class="n">read_gdrive_data</span><span class="p">(</span><span class="s1">&#39;1XneH4xvBCY_hnCo-Okuq4Yu630ziPcdd&#39;</span><span class="p">)</span>
<span class="n">mmse_df</span><span class="o">.</span><span class="n">columns</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[23]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>Index([&#39;Phase&#39;, &#39;ID&#39;, &#39;RID&#39;, &#39;SITEID&#39;, &#39;VISCODE&#39;, &#39;VISCODE2&#39;, &#39;USERDATE&#39;, &#39;USERDATE2&#39;, &#39;EXAMDATE&#39;, &#39;MMDATE&#39;, &#39;MMDATECM&#39;, &#39;MMYEAR&#39;, &#39;MMYEARCM&#39;, &#39;MMMONTH&#39;, &#39;MMMNTHCM&#39;, &#39;MMDAY&#39;, &#39;MMDAYCM&#39;, &#39;MMSEASON&#39;, &#39;MMSESNCM&#39;, &#39;MMHOSPIT&#39;, &#39;MMHOSPCM&#39;, &#39;MMFLOOR&#39;, &#39;MMFLRCM&#39;, &#39;MMCITY&#39;, &#39;MMCITYCM&#39;, &#39;MMAREA&#39;, &#39;MMAREACM&#39;, &#39;MMSTATE&#39;, &#39;MMSTCM&#39;, &#39;MMRECALL&#39;, &#39;MMBALL&#39;, &#39;MMFLAG&#39;, &#39;MMTREE&#39;, &#39;MMTRIALS&#39;, &#39;MMD&#39;, &#39;MMDLTR&#39;, &#39;MML&#39;, &#39;MMLLTR&#39;, &#39;MMR&#39;, &#39;MMRLTR&#39;, &#39;MMO&#39;, &#39;MMOLTR&#39;, &#39;MMW&#39;, &#39;MMWLTR&#39;, &#39;MMBALLDL&#39;, &#39;MMFLAGDL&#39;, &#39;MMTREEDL&#39;, &#39;MMWATCH&#39;, &#39;MMPENCIL&#39;, &#39;MMREPEAT&#39;, &#39;MMHAND&#39;, &#39;MMFOLD&#39;, &#39;MMONFLR&#39;, &#39;MMREAD&#39;, &#39;MMWRITE&#39;, &#39;MMDRAW&#39;, &#39;MMSCORE&#39;, &#39;DONE&#39;, &#39;MMLTR1&#39;, &#39;MMLTR2&#39;, &#39;MMLTR3&#39;, &#39;MMLTR4&#39;, &#39;MMLTR5&#39;, &#39;MMLTR6&#39;, &#39;MMLTR7&#39;, &#39;WORD1&#39;, &#39;WORD1DL&#39;, &#39;WORD2&#39;, &#39;WORD2DL&#39;, &#39;WORD3&#39;, &#39;WORD3DL&#39;, &#39;WORDLIST&#39;, &#39;WORLDSCORE&#39;, &#39;update_stamp&#39;], dtype=&#39;object&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[24]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># preprocessing</span>
<span class="n">mmse_df</span> <span class="o">=</span> <span class="n">adapt_adni1_viscodes</span><span class="p">(</span><span class="n">mmse_df</span><span class="p">)</span>
<span class="n">mmse_df</span> <span class="o">=</span> <span class="n">replace_missing_values_with_nan</span><span class="p">(</span><span class="n">mmse_df</span><span class="p">)</span>
<span class="n">mmse_df</span> <span class="o">=</span> <span class="n">mmse_df</span><span class="p">[</span><span class="n">mmse_df</span><span class="p">[</span><span class="s1">&#39;MMSCORE&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">notnull</span><span class="p">()]</span>
<span class="c1"># merge</span>
<span class="n">adni_merge_df</span> <span class="o">=</span> <span class="n">merge_dfs</span><span class="p">(</span><span class="n">adni_merge_df</span><span class="p">,</span> 
                          <span class="n">mmse_df</span><span class="p">,</span>
                          <span class="p">[</span><span class="s1">&#39;RID&#39;</span><span class="p">,</span> <span class="s1">&#39;Phase&#39;</span><span class="p">,</span> <span class="s1">&#39;VISCODE&#39;</span><span class="p">,</span> <span class="s1">&#39;VISCODE2&#39;</span><span class="p">,</span> <span class="s1">&#39;MMSCORE&#39;</span><span class="p">],</span>
                          <span class="p">[</span><span class="s1">&#39;RID&#39;</span><span class="p">,</span> <span class="s1">&#39;Phase&#39;</span><span class="p">,</span> <span class="s1">&#39;VISCODE&#39;</span><span class="p">,</span> <span class="s1">&#39;VISCODE2&#39;</span><span class="p">])</span>
<span class="n">display</span><span class="p">(</span><span class="n">adni_merge_df</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
<span class="n">adni_merge_df</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Number of rows increased by : 1
</pre>
</div>
</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Phase</th>
      <th>RID</th>
      <th>VISCODE</th>
      <th>VISCODE2</th>
      <th>DX</th>
      <th>PTSTATUS</th>
      <th>RGSTATUS</th>
      <th>VISTYPE</th>
      <th>EXAMDATE</th>
      <th>RGCONDCT</th>
      <th>PTGENDER</th>
      <th>PTDOBMM</th>
      <th>PTDOBYY</th>
      <th>PTMARRY</th>
      <th>PTEDUCAT</th>
      <th>PTETHCAT</th>
      <th>PTRACCAT</th>
      <th>MHPSYCH</th>
      <th>MH2NEURL</th>
      <th>MH14ALCH</th>
      <th>MH15DRUG</th>
      <th>CDGLOBAL</th>
      <th>FAQTOTAL</th>
      <th>MMSCORE</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>ADNI1</td>
      <td>2</td>
      <td>bl</td>
      <td>bl</td>
      <td>NL</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2005-09-08</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>4.0</td>
      <td>1931.0</td>
      <td>1.0</td>
      <td>16.0</td>
      <td>2.0</td>
      <td>5.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>28.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>ADNI1</td>
      <td>3</td>
      <td>bl</td>
      <td>bl</td>
      <td>AD</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2005-09-12</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>5.0</td>
      <td>1924.0</td>
      <td>1.0</td>
      <td>18.0</td>
      <td>2.0</td>
      <td>5.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>10.0</td>
      <td>20.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>ADNI1</td>
      <td>5</td>
      <td>bl</td>
      <td>bl</td>
      <td>NL</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2005-09-07</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>12.0</td>
      <td>1931.0</td>
      <td>1.0</td>
      <td>16.0</td>
      <td>2.0</td>
      <td>5.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>29.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>ADNI1</td>
      <td>8</td>
      <td>bl</td>
      <td>bl</td>
      <td>NL</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2005-09-19</td>
      <td>1.0</td>
      <td>2.0</td>
      <td>3.0</td>
      <td>1921.0</td>
      <td>2.0</td>
      <td>18.0</td>
      <td>2.0</td>
      <td>5.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>28.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>ADNI1</td>
      <td>7</td>
      <td>bl</td>
      <td>bl</td>
      <td>AD</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2005-10-06</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>4.0</td>
      <td>1930.0</td>
      <td>1.0</td>
      <td>10.0</td>
      <td>1.0</td>
      <td>6.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>17.0</td>
      <td>20.0</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

<div class="output_area">

<div class="prompt output_prompt">Out[24]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>(17259, 24)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Biomarkers">Biomarkers<a class="anchor-link" href="#Biomarkers">&#182;</a></h4><p>Biomarkers information is more difficult to understand and often we need to read some support documentation to understand the results which makes it slow to incorporate and explore new data. We are going to focus in the two more used datasets: the UPenn biomarkers and the APOE$\epsilon$4 genetic variant which is considered a major risk factor gene for AD and is used by companies like 23 and me.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h5 id="A$\beta$,-Tau,-P-Tau">A$\beta$, Tau, P-Tau<a class="anchor-link" href="#A$\beta$,-Tau,-P-Tau">&#182;</a></h5><p>The University of Pennsylvania has been analyzing CSF fluids during different phases of the study and has developed a master dataset with 3 main different biomarkers tracked during the study: A$\beta$, Tau and P-Tau.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[25]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#biomarkers_df = pd.read_csv(&#39;data/&#39; + &#39;UPENNBIOMK_MASTER.csv&#39;)</span>
<span class="n">biomarkers_df</span> <span class="o">=</span> <span class="n">read_gdrive_data</span><span class="p">(</span><span class="s1">&#39;156AFWcnXu1LCJ1WCbta-gap2Qf-fjzBC&#39;</span><span class="p">)</span>
<span class="n">biomarkers_df</span><span class="o">.</span><span class="n">columns</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[25]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>Index([&#39;RID&#39;, &#39;VISCODE&#39;, &#39;BATCH&#39;, &#39;KIT&#39;, &#39;STDS&#39;, &#39;DRWDTE&#39;, &#39;RUNDATE&#39;, &#39;ABETA&#39;, &#39;TAU&#39;, &#39;PTAU&#39;, &#39;ABETA_RAW&#39;, &#39;TAU_RAW&#39;, &#39;PTAU_RAW&#39;, &#39;update_stamp&#39;], dtype=&#39;object&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[26]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># pre-processing</span>
<span class="n">replace_missing_values_with_nan</span><span class="p">(</span><span class="n">biomarkers_df</span><span class="p">)</span>
<span class="c1"># no VISCODE in the dataset, VISCODE2 was renamed to VISCODE</span>
<span class="n">biomarkers_df</span> <span class="o">=</span> <span class="n">biomarkers_df</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;VISCODE&quot;</span><span class="p">:</span> <span class="s2">&quot;VISCODE2&quot;</span><span class="p">})</span>
<span class="c1"># when several measurements keep only the median</span>
<span class="n">biomarkers_df</span> <span class="o">=</span> <span class="n">biomarkers_df</span><span class="p">[</span><span class="n">biomarkers_df</span><span class="p">[</span><span class="s1">&#39;BATCH&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;MEDIAN&#39;</span><span class="p">]</span>
<span class="n">biomarkers_df</span> <span class="o">=</span> <span class="n">biomarkers_df</span><span class="p">[(</span><span class="n">biomarkers_df</span><span class="p">[</span><span class="s1">&#39;ABETA&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">notnull</span><span class="p">())</span>
                              <span class="o">|</span> <span class="p">(</span><span class="n">biomarkers_df</span><span class="p">[</span><span class="s1">&#39;TAU&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">notnull</span><span class="p">())</span>
                              <span class="o">|</span> <span class="p">(</span><span class="n">biomarkers_df</span><span class="p">[</span><span class="s1">&#39;PTAU&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">notnull</span><span class="p">())]</span>
<span class="c1"># merge</span>
<span class="n">adni_merge_df</span><span class="o">=</span> <span class="n">merge_dfs</span><span class="p">(</span><span class="n">adni_merge_df</span><span class="p">,</span> 
                         <span class="n">biomarkers_df</span><span class="p">,</span>
                         <span class="p">[</span><span class="s1">&#39;RID&#39;</span><span class="p">,</span> <span class="s1">&#39;VISCODE2&#39;</span><span class="p">,</span> <span class="s1">&#39;ABETA&#39;</span><span class="p">,</span> <span class="s1">&#39;TAU&#39;</span><span class="p">,</span> <span class="s1">&#39;PTAU&#39;</span><span class="p">],</span>
                         <span class="p">[</span><span class="s1">&#39;RID&#39;</span><span class="p">,</span> <span class="s1">&#39;VISCODE2&#39;</span><span class="p">])</span>
<span class="n">display</span><span class="p">(</span><span class="n">adni_merge_df</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
<span class="n">adni_merge_df</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Number of rows increased by : 3
</pre>
</div>
</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Phase</th>
      <th>RID</th>
      <th>VISCODE</th>
      <th>VISCODE2</th>
      <th>DX</th>
      <th>PTSTATUS</th>
      <th>RGSTATUS</th>
      <th>VISTYPE</th>
      <th>EXAMDATE</th>
      <th>RGCONDCT</th>
      <th>PTGENDER</th>
      <th>PTDOBMM</th>
      <th>PTDOBYY</th>
      <th>PTMARRY</th>
      <th>PTEDUCAT</th>
      <th>PTETHCAT</th>
      <th>PTRACCAT</th>
      <th>MHPSYCH</th>
      <th>MH2NEURL</th>
      <th>MH14ALCH</th>
      <th>MH15DRUG</th>
      <th>CDGLOBAL</th>
      <th>FAQTOTAL</th>
      <th>MMSCORE</th>
      <th>ABETA</th>
      <th>TAU</th>
      <th>PTAU</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>ADNI1</td>
      <td>2</td>
      <td>bl</td>
      <td>bl</td>
      <td>NL</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2005-09-08</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>4.0</td>
      <td>1931.0</td>
      <td>1.0</td>
      <td>16.0</td>
      <td>2.0</td>
      <td>5.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>28.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>ADNI1</td>
      <td>3</td>
      <td>bl</td>
      <td>bl</td>
      <td>AD</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2005-09-12</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>5.0</td>
      <td>1924.0</td>
      <td>1.0</td>
      <td>18.0</td>
      <td>2.0</td>
      <td>5.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>10.0</td>
      <td>20.0</td>
      <td>131.0</td>
      <td>61.4</td>
      <td>20.4</td>
    </tr>
    <tr>
      <th>2</th>
      <td>ADNI1</td>
      <td>5</td>
      <td>bl</td>
      <td>bl</td>
      <td>NL</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2005-09-07</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>12.0</td>
      <td>1931.0</td>
      <td>1.0</td>
      <td>16.0</td>
      <td>2.0</td>
      <td>5.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>29.0</td>
      <td>116.0</td>
      <td>116.0</td>
      <td>67.2</td>
    </tr>
    <tr>
      <th>3</th>
      <td>ADNI1</td>
      <td>8</td>
      <td>bl</td>
      <td>bl</td>
      <td>NL</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2005-09-19</td>
      <td>1.0</td>
      <td>2.0</td>
      <td>3.0</td>
      <td>1921.0</td>
      <td>2.0</td>
      <td>18.0</td>
      <td>2.0</td>
      <td>5.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>28.0</td>
      <td>268.0</td>
      <td>125.0</td>
      <td>29.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>ADNI1</td>
      <td>7</td>
      <td>bl</td>
      <td>bl</td>
      <td>AD</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2005-10-06</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>4.0</td>
      <td>1930.0</td>
      <td>1.0</td>
      <td>10.0</td>
      <td>1.0</td>
      <td>6.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>17.0</td>
      <td>20.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

<div class="output_area">

<div class="prompt output_prompt">Out[26]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>(17262, 27)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h5 id="APOE-$\epsilon$4">APOE $\epsilon$4<a class="anchor-link" href="#APOE-$\epsilon$4">&#182;</a></h5><p>Even though there is still not a particular gene that can be directly related to AD, a form of the apolipoprotein E (APOE) has been found to increase the risk. APOE has different alleles:</p>
<ul>
<li>APOE ε2 is relatively rare and may provide some protection against the disease.</li>
<li>APOE ε3 is the most common allele and it is considered neutral</li>
<li>APOE ε4 is believed to increase the risk for Alzheimer's disease. This would be the one we are interested.</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[27]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#apoe4_df = pd.read_csv(&#39;data/APOERES.csv&#39;)</span>
<span class="n">apoe4_df</span> <span class="o">=</span> <span class="n">read_gdrive_data</span><span class="p">(</span><span class="s1">&#39;1w3UIIoyypGNHl38NoK2u-r1gJEljQK4C&#39;</span><span class="p">)</span>
<span class="n">apoe4_df</span><span class="o">.</span><span class="n">columns</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[27]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>Index([&#39;Phase&#39;, &#39;ID&#39;, &#39;RID&#39;, &#39;SITEID&#39;, &#39;VISCODE&#39;, &#39;USERDATE&#39;, &#39;USERDATE2&#39;, &#39;APTESTDT&#39;, &#39;APGEN1&#39;, &#39;APGEN2&#39;, &#39;APVOLUME&#39;, &#39;APRECEIVE&#39;, &#39;APAMBTEMP&#39;, &#39;APRESAMP&#39;, &#39;APUSABLE&#39;, &#39;update_stamp&#39;], dtype=&#39;object&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[28]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># pre-processing</span>
<span class="n">apoe4_df</span> <span class="o">=</span> <span class="n">apoe4_df</span><span class="p">[(</span><span class="n">apoe4_df</span><span class="p">[</span><span class="s1">&#39;VISCODE&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">notnull</span><span class="p">())</span>
                    <span class="o">&amp;</span> <span class="p">(</span><span class="n">apoe4_df</span><span class="p">[</span><span class="s1">&#39;APGEN1&#39;</span><span class="p">]</span> <span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span>
                    <span class="o">&amp;</span> <span class="p">(</span><span class="n">apoe4_df</span><span class="p">[</span><span class="s1">&#39;APGEN2&#39;</span><span class="p">]</span> <span class="o">&gt;</span><span class="mi">0</span><span class="p">)]</span>
<span class="c1"># obtain APOE4, which we can relate to an increase risk of developing AD</span>
<span class="n">apoe4_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s1">&#39;APOE4&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="n">apoe4_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">apoe4_df</span><span class="p">[</span><span class="s1">&#39;APGEN1&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">4</span><span class="p">)</span>
             <span class="o">|</span> <span class="p">(</span><span class="n">apoe4_df</span><span class="p">[</span><span class="s1">&#39;APGEN2&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">4</span><span class="p">),</span> <span class="s1">&#39;APOE4&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="c1"># again we only have VISCODE that actually is VISCODE2</span>
<span class="n">apoe4_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s1">&#39;VISCODE2&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">apoe4_df</span><span class="p">[</span><span class="s1">&#39;VISCODE&#39;</span><span class="p">]</span>
<span class="n">apoe4_df</span> <span class="o">=</span> <span class="n">adapt_adni1_viscodes</span><span class="p">(</span><span class="n">apoe4_df</span><span class="p">)</span>
<span class="c1"># merge</span>
<span class="n">adni_merge_df</span> <span class="o">=</span> <span class="n">merge_dfs</span><span class="p">(</span><span class="n">adni_merge_df</span><span class="p">,</span> 
                          <span class="n">apoe4_df</span><span class="p">,</span>
                          <span class="p">[</span><span class="s1">&#39;RID&#39;</span><span class="p">,</span> <span class="s1">&#39;VISCODE2&#39;</span><span class="p">,</span> <span class="s1">&#39;APOE4&#39;</span><span class="p">],</span>
                          <span class="p">[</span><span class="s1">&#39;RID&#39;</span><span class="p">,</span> <span class="s1">&#39;VISCODE2&#39;</span><span class="p">])</span>
<span class="n">display</span><span class="p">(</span><span class="n">adni_merge_df</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
<span class="n">adni_merge_df</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Number of rows increased by : 0
</pre>
</div>
</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Phase</th>
      <th>RID</th>
      <th>VISCODE</th>
      <th>VISCODE2</th>
      <th>DX</th>
      <th>PTSTATUS</th>
      <th>RGSTATUS</th>
      <th>VISTYPE</th>
      <th>EXAMDATE</th>
      <th>RGCONDCT</th>
      <th>PTGENDER</th>
      <th>PTDOBMM</th>
      <th>PTDOBYY</th>
      <th>PTMARRY</th>
      <th>PTEDUCAT</th>
      <th>PTETHCAT</th>
      <th>PTRACCAT</th>
      <th>MHPSYCH</th>
      <th>MH2NEURL</th>
      <th>MH14ALCH</th>
      <th>MH15DRUG</th>
      <th>CDGLOBAL</th>
      <th>FAQTOTAL</th>
      <th>MMSCORE</th>
      <th>ABETA</th>
      <th>TAU</th>
      <th>PTAU</th>
      <th>APOE4</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>ADNI1</td>
      <td>2</td>
      <td>bl</td>
      <td>bl</td>
      <td>NL</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2005-09-08</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>4.0</td>
      <td>1931.0</td>
      <td>1.0</td>
      <td>16.0</td>
      <td>2.0</td>
      <td>5.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>28.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>ADNI1</td>
      <td>3</td>
      <td>bl</td>
      <td>bl</td>
      <td>AD</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2005-09-12</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>5.0</td>
      <td>1924.0</td>
      <td>1.0</td>
      <td>18.0</td>
      <td>2.0</td>
      <td>5.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>10.0</td>
      <td>20.0</td>
      <td>131.0</td>
      <td>61.4</td>
      <td>20.4</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>ADNI1</td>
      <td>5</td>
      <td>bl</td>
      <td>bl</td>
      <td>NL</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2005-09-07</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>12.0</td>
      <td>1931.0</td>
      <td>1.0</td>
      <td>16.0</td>
      <td>2.0</td>
      <td>5.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>29.0</td>
      <td>116.0</td>
      <td>116.0</td>
      <td>67.2</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>ADNI1</td>
      <td>8</td>
      <td>bl</td>
      <td>bl</td>
      <td>NL</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2005-09-19</td>
      <td>1.0</td>
      <td>2.0</td>
      <td>3.0</td>
      <td>1921.0</td>
      <td>2.0</td>
      <td>18.0</td>
      <td>2.0</td>
      <td>5.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>28.0</td>
      <td>268.0</td>
      <td>125.0</td>
      <td>29.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>ADNI1</td>
      <td>7</td>
      <td>bl</td>
      <td>bl</td>
      <td>AD</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2005-10-06</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>4.0</td>
      <td>1930.0</td>
      <td>1.0</td>
      <td>10.0</td>
      <td>1.0</td>
      <td>6.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>17.0</td>
      <td>20.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1.0</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

<div class="output_area">

<div class="prompt output_prompt">Out[28]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>(17262, 28)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>As we can see, the effort required to build a merged data set with all the custom predictors of interests is extremely big. Every new dataset we want to merge require dealing with cryptic labels and loads of missing data, knowledge of the information we are merging for interpretation and in all cases some carefull pre-processing and merging. Given the diversity, there's no easy way to create generic functions or to generalize the processing a lot. On top of that we have to monitor after every merge for potential additional rows. Given the big effort required in obtaining a merged dataset, and that the scope of this project is not to perfom and instrumentalize such action, we have decided to used an already merged dataset provided by researchers from the University of California, San Diego. However we consider the knowledge we have obtained during this process very valuable for further steps.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[29]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#ADNI_df = pd.read_csv(&#39;data/ADNIMERGE.csv&#39;)</span>
<span class="n">ADNI_df</span> <span class="o">=</span> <span class="n">read_gdrive_data</span><span class="p">(</span><span class="s1">&#39;1zaPxCHZF0MKE46fiVx43be47Q7vvQzr-&#39;</span><span class="p">)</span>
<span class="c1">#ADNI_df.info()</span>
<span class="c1">#ADNI_df.describe()</span>
<span class="c1">#ADNI_df[ADNI_df[&#39;RID&#39;]==3].head()</span>
<span class="c1">#ADNI_df[&#39;PTEDUCAT&#39;].value_counts()</span>
<span class="n">ADNI_df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[29]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>RID</th>
      <th>VISCODE</th>
      <th>EXAMDATE</th>
      <th>DX_bl</th>
      <th>AGE</th>
      <th>PTGENDER</th>
      <th>PTEDUCAT</th>
      <th>PTETHCAT</th>
      <th>PTRACCAT</th>
      <th>PTMARRY</th>
      <th>APOE4</th>
      <th>FDG</th>
      <th>PIB</th>
      <th>AV45</th>
      <th>CDRSB</th>
      <th>ADAS11</th>
      <th>ADAS13</th>
      <th>MMSE</th>
      <th>RAVLT_immediate</th>
      <th>RAVLT_learning</th>
      <th>RAVLT_forgetting</th>
      <th>RAVLT_perc_forgetting</th>
      <th>FAQ</th>
      <th>MOCA</th>
      <th>EcogPtMem</th>
      <th>EcogPtLang</th>
      <th>EcogPtVisspat</th>
      <th>EcogPtPlan</th>
      <th>EcogPtOrgan</th>
      <th>EcogPtDivatt</th>
      <th>EcogPtTotal</th>
      <th>EcogSPMem</th>
      <th>EcogSPLang</th>
      <th>EcogSPVisspat</th>
      <th>EcogSPPlan</th>
      <th>EcogSPOrgan</th>
      <th>EcogSPDivatt</th>
      <th>EcogSPTotal</th>
      <th>Ventricles</th>
      <th>Hippocampus</th>
      <th>WholeBrain</th>
      <th>Entorhinal</th>
      <th>Fusiform</th>
      <th>MidTemp</th>
      <th>ICV</th>
      <th>EXAMDATE_bl</th>
      <th>CDRSB_bl</th>
      <th>ADAS11_bl</th>
      <th>ADAS13_bl</th>
      <th>MMSE_bl</th>
      <th>RAVLT_immediate_bl</th>
      <th>RAVLT_learning_bl</th>
      <th>RAVLT_forgetting_bl</th>
      <th>RAVLT_perc_forgetting_bl</th>
      <th>FAQ_bl</th>
      <th>Ventricles_bl</th>
      <th>Hippocampus_bl</th>
      <th>WholeBrain_bl</th>
      <th>Entorhinal_bl</th>
      <th>Fusiform_bl</th>
      <th>MidTemp_bl</th>
      <th>ICV_bl</th>
      <th>MOCA_bl</th>
      <th>EcogPtMem_bl</th>
      <th>EcogPtLang_bl</th>
      <th>EcogPtVisspat_bl</th>
      <th>EcogPtPlan_bl</th>
      <th>EcogPtOrgan_bl</th>
      <th>EcogPtDivatt_bl</th>
      <th>EcogPtTotal_bl</th>
      <th>EcogSPMem_bl</th>
      <th>EcogSPLang_bl</th>
      <th>EcogSPVisspat_bl</th>
      <th>EcogSPPlan_bl</th>
      <th>EcogSPOrgan_bl</th>
      <th>EcogSPDivatt_bl</th>
      <th>EcogSPTotal_bl</th>
      <th>FDG_bl</th>
      <th>AV45_bl</th>
      <th>DX</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2</td>
      <td>bl</td>
      <td>2005-09-08</td>
      <td>CN</td>
      <td>74.3</td>
      <td>Male</td>
      <td>16</td>
      <td>Not Hisp/Latino</td>
      <td>White</td>
      <td>Married</td>
      <td>0.0</td>
      <td>1.36926</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.0</td>
      <td>10.67</td>
      <td>18.67</td>
      <td>28.0</td>
      <td>44.0</td>
      <td>4.0</td>
      <td>6.0</td>
      <td>54.5455</td>
      <td>0.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>118233.0</td>
      <td>8336.0</td>
      <td>1229740.0</td>
      <td>4177.0</td>
      <td>16559.0</td>
      <td>27936.0</td>
      <td>1984660.0</td>
      <td>2005-09-08</td>
      <td>0.0</td>
      <td>10.67</td>
      <td>18.67</td>
      <td>28</td>
      <td>44.0</td>
      <td>4.0</td>
      <td>6.0</td>
      <td>54.5455</td>
      <td>0.0</td>
      <td>118233.0</td>
      <td>8336.0</td>
      <td>1229740.0</td>
      <td>4177.0</td>
      <td>16559.0</td>
      <td>27936.0</td>
      <td>1984660.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1.36926</td>
      <td>NaN</td>
      <td>CN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>3</td>
      <td>bl</td>
      <td>2005-09-12</td>
      <td>AD</td>
      <td>81.3</td>
      <td>Male</td>
      <td>18</td>
      <td>Not Hisp/Latino</td>
      <td>White</td>
      <td>Married</td>
      <td>1.0</td>
      <td>1.09079</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>4.5</td>
      <td>22.00</td>
      <td>31.00</td>
      <td>20.0</td>
      <td>22.0</td>
      <td>1.0</td>
      <td>4.0</td>
      <td>100.0000</td>
      <td>10.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>84599.0</td>
      <td>5319.0</td>
      <td>1129830.0</td>
      <td>1791.0</td>
      <td>15506.0</td>
      <td>18422.0</td>
      <td>1920690.0</td>
      <td>2005-09-12</td>
      <td>4.5</td>
      <td>22.00</td>
      <td>31.00</td>
      <td>20</td>
      <td>22.0</td>
      <td>1.0</td>
      <td>4.0</td>
      <td>100.0000</td>
      <td>10.0</td>
      <td>84599.0</td>
      <td>5319.0</td>
      <td>1129830.0</td>
      <td>1791.0</td>
      <td>15506.0</td>
      <td>18422.0</td>
      <td>1920690.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1.09079</td>
      <td>NaN</td>
      <td>Dementia</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>m06</td>
      <td>2006-03-13</td>
      <td>AD</td>
      <td>81.3</td>
      <td>Male</td>
      <td>18</td>
      <td>Not Hisp/Latino</td>
      <td>White</td>
      <td>Married</td>
      <td>1.0</td>
      <td>1.06360</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>6.0</td>
      <td>19.00</td>
      <td>30.00</td>
      <td>24.0</td>
      <td>19.0</td>
      <td>2.0</td>
      <td>6.0</td>
      <td>100.0000</td>
      <td>12.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>88580.0</td>
      <td>5446.0</td>
      <td>1100060.0</td>
      <td>2427.0</td>
      <td>14400.0</td>
      <td>16972.0</td>
      <td>1906430.0</td>
      <td>2005-09-12</td>
      <td>4.5</td>
      <td>22.00</td>
      <td>31.00</td>
      <td>20</td>
      <td>22.0</td>
      <td>1.0</td>
      <td>4.0</td>
      <td>100.0000</td>
      <td>10.0</td>
      <td>84599.0</td>
      <td>5319.0</td>
      <td>1129830.0</td>
      <td>1791.0</td>
      <td>15506.0</td>
      <td>18422.0</td>
      <td>1920690.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1.09079</td>
      <td>NaN</td>
      <td>Dementia</td>
    </tr>
    <tr>
      <th>3</th>
      <td>3</td>
      <td>m12</td>
      <td>2006-09-12</td>
      <td>AD</td>
      <td>81.3</td>
      <td>Male</td>
      <td>18</td>
      <td>Not Hisp/Latino</td>
      <td>White</td>
      <td>Married</td>
      <td>1.0</td>
      <td>1.10384</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>3.5</td>
      <td>24.00</td>
      <td>35.00</td>
      <td>17.0</td>
      <td>31.0</td>
      <td>2.0</td>
      <td>7.0</td>
      <td>100.0000</td>
      <td>17.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>90099.0</td>
      <td>5157.0</td>
      <td>1095640.0</td>
      <td>1596.0</td>
      <td>14617.0</td>
      <td>17330.0</td>
      <td>1903820.0</td>
      <td>2005-09-12</td>
      <td>4.5</td>
      <td>22.00</td>
      <td>31.00</td>
      <td>20</td>
      <td>22.0</td>
      <td>1.0</td>
      <td>4.0</td>
      <td>100.0000</td>
      <td>10.0</td>
      <td>84599.0</td>
      <td>5319.0</td>
      <td>1129830.0</td>
      <td>1791.0</td>
      <td>15506.0</td>
      <td>18422.0</td>
      <td>1920690.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1.09079</td>
      <td>NaN</td>
      <td>Dementia</td>
    </tr>
    <tr>
      <th>4</th>
      <td>3</td>
      <td>m24</td>
      <td>2007-09-12</td>
      <td>AD</td>
      <td>81.3</td>
      <td>Male</td>
      <td>18</td>
      <td>Not Hisp/Latino</td>
      <td>White</td>
      <td>Married</td>
      <td>1.0</td>
      <td>1.03871</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>8.0</td>
      <td>25.67</td>
      <td>37.67</td>
      <td>19.0</td>
      <td>23.0</td>
      <td>1.0</td>
      <td>5.0</td>
      <td>100.0000</td>
      <td>14.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>97420.0</td>
      <td>5139.0</td>
      <td>1088560.0</td>
      <td>1175.0</td>
      <td>14033.0</td>
      <td>16398.0</td>
      <td>1903420.0</td>
      <td>2005-09-12</td>
      <td>4.5</td>
      <td>22.00</td>
      <td>31.00</td>
      <td>20</td>
      <td>22.0</td>
      <td>1.0</td>
      <td>4.0</td>
      <td>100.0000</td>
      <td>10.0</td>
      <td>84599.0</td>
      <td>5319.0</td>
      <td>1129830.0</td>
      <td>1791.0</td>
      <td>15506.0</td>
      <td>18422.0</td>
      <td>1920690.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1.09079</td>
      <td>NaN</td>
      <td>Dementia</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This pre-merged dataset contains some of the predictors that we have seen plus some others in a clear format including different categories of data.</p>
<table>
<thead><tr>
<th>Demographics</th>
<th>Neuropsychological</th>
<th>Biomarkers</th>
<th>MRI</th>
<th>PET</th>
</tr>
</thead>
<tbody>
<tr>
<td>Gender</td>
<td>CDR</td>
<td>APOE4</td>
<td>Ventricles</td>
<td>AV45</td>
</tr>
<tr>
<td>Age</td>
<td>ADAS11</td>
<td>ABETA</td>
<td>Hippocampus</td>
<td>PIB</td>
</tr>
<tr>
<td>Education</td>
<td>ADAS 13</td>
<td>TAU</td>
<td>WholeBrain</td>
<td>FDG</td>
</tr>
<tr>
<td>Race</td>
<td>MMSE</td>
<td>PTAU</td>
<td>Entohinal</td>
<td></td>
</tr>
<tr>
<td>Ethnicity</td>
<td>RAVLT</td>
<td></td>
<td>Fusiform</td>
<td></td>
</tr>
<tr>
<td>Marital Status</td>
<td>FAQ</td>
<td></td>
<td>MidTemp</td>
<td></td>
</tr>
<tr>
<td></td>
<td>MOCA</td>
<td></td>
<td>ICV</td>
<td></td>
</tr>
<tr>
<td></td>
<td>Ecog</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>mPACC</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>We are ready at this point to process this dataset and work with it.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Data-Preprocessing">Data Preprocessing<a class="anchor-link" href="#Data-Preprocessing">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In this section we are going to process the ADNI merged dataset in order to be able to fit some models and start making predictions. Our goal is to predict if someone is going to develop Alzheimer within a particular time frame, this is to predict the diagnosis. Notice that this data is nature a time series since we have a timeline in which different doctor visits and tests occur. Notice also that not all the patients participate in all tests so one challenge will be the amount of missing values. We have decided to start by simplifying the problem to the following scenario: we will take all the information available at baseline in the ADNI1 phase and we will attempt to predict the diagnosis at a particular point in time starting by 12 months.</p>
<p>Before we start fitting different models we need to make some decisions about the data. The biggest problem we need to face is how to deal with so many missing values. For that we take to actions. The first one is to remove the columns with very little values in the selected time frame. The second one is to do simple mean imputation to repleace missing values. After we are going to scale numeric data by using a MinMax scaler and we are going to perform one hot encoding in our categorical data. For last we are going to do a 80/20 training/test split of the data.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[0]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># From the data, we looked at the columns and pulled out lists of items to </span>
<span class="c1"># one hot encode, to drop, and to use as our truth</span>
<span class="n">truth</span> <span class="o">=</span> <span class="s1">&#39;DX&#39;</span>
<span class="n">to_OHE</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;PTGENDER&#39;</span><span class="p">,</span>	<span class="s1">&#39;PTETHCAT&#39;</span><span class="p">,</span>	<span class="s1">&#39;PTRACCAT&#39;</span><span class="p">,</span>	<span class="s1">&#39;PTMARRY&#39;</span><span class="p">]</span>
<span class="n">non_pred</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;RID&#39;</span><span class="p">,</span> <span class="s1">&#39;VISCODE&#39;</span><span class="p">,</span>	<span class="s1">&#39;EXAMDATE&#39;</span><span class="p">,</span> <span class="s1">&#39;EXAMDATE_bl&#39;</span><span class="p">,</span><span class="s1">&#39;DX&#39;</span><span class="p">,</span><span class="s1">&#39;DX_bl&#39;</span><span class="p">,</span><span class="s1">&#39;APOE4&#39;</span><span class="p">]</span>
<span class="n">sparse</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;PIB&#39;</span><span class="p">,</span><span class="s1">&#39;AV45&#39;</span><span class="p">,</span><span class="s1">&#39;MOCA&#39;</span><span class="p">,</span>	<span class="s1">&#39;EcogPtMem&#39;</span><span class="p">,</span>	<span class="s1">&#39;EcogPtLang&#39;</span><span class="p">,</span>	<span class="s1">&#39;EcogPtVisspat&#39;</span><span class="p">,</span><span class="s1">&#39;EcogPtPlan&#39;</span><span class="p">,</span><span class="s1">&#39;EcogPtOrgan&#39;</span><span class="p">,</span><span class="s1">&#39;EcogPtDivatt&#39;</span><span class="p">,</span>
          <span class="s1">&#39;EcogPtTotal&#39;</span><span class="p">,</span><span class="s1">&#39;EcogSPMem&#39;</span><span class="p">,</span>	<span class="s1">&#39;EcogSPLang&#39;</span><span class="p">,</span>	<span class="s1">&#39;EcogSPVisspat&#39;</span><span class="p">,</span>	<span class="s1">&#39;EcogSPPlan&#39;</span><span class="p">,</span>	<span class="s1">&#39;EcogSPOrgan&#39;</span><span class="p">,</span>	<span class="s1">&#39;EcogSPDivatt&#39;</span><span class="p">,</span><span class="s1">&#39;EcogSPTotal&#39;</span><span class="p">,</span>
          <span class="s1">&#39;MOCA_bl&#39;</span><span class="p">,</span>	<span class="s1">&#39;EcogPtMem_bl&#39;</span><span class="p">,</span>	<span class="s1">&#39;EcogPtLang_bl&#39;</span><span class="p">,</span>	<span class="s1">&#39;EcogPtVisspat_bl&#39;</span><span class="p">,</span>	<span class="s1">&#39;EcogPtPlan_bl&#39;</span><span class="p">,</span>	<span class="s1">&#39;EcogPtOrgan_bl&#39;</span><span class="p">,</span>	<span class="s1">&#39;EcogPtDivatt_bl&#39;</span><span class="p">,</span>
          <span class="s1">&#39;EcogPtTotal_bl&#39;</span><span class="p">,</span>	<span class="s1">&#39;EcogSPMem_bl&#39;</span><span class="p">,</span>	<span class="s1">&#39;EcogSPLang_bl&#39;</span><span class="p">,</span>	<span class="s1">&#39;EcogSPVisspat_bl&#39;</span><span class="p">,</span>	<span class="s1">&#39;EcogSPPlan_bl&#39;</span><span class="p">,</span>	<span class="s1">&#39;EcogSPOrgan_bl&#39;</span><span class="p">,</span>	<span class="s1">&#39;EcogSPDivatt_bl&#39;</span><span class="p">,</span>
          <span class="s1">&#39;EcogSPTotal_bl&#39;</span><span class="p">,</span>	<span class="s1">&#39;AV45_bl&#39;</span><span class="p">]</span>

<span class="c1">#Pull data frame</span>
<span class="n">ADNI_df</span> <span class="o">=</span> <span class="n">read_gdrive_data</span><span class="p">(</span><span class="s1">&#39;1zaPxCHZF0MKE46fiVx43be47Q7vvQzr-&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[0]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#helper functions for testing the models</span>

<span class="k">def</span> <span class="nf">prepare_data</span><span class="p">(</span><span class="n">ADNI_df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">to_OHE</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span> <span class="n">non_pred</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span> <span class="n">sparse</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span> <span class="n">viscode_select</span><span class="o">=</span><span class="s1">&#39;m12&#39;</span><span class="p">,</span><span class="n">truth</span><span class="o">=</span><span class="s1">&#39;DX&#39;</span><span class="p">):</span>
  <span class="c1">#Take only one year visits and DXs with non-NaN values</span>
  <span class="n">ADNI_selected</span> <span class="o">=</span> <span class="n">ADNI_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">ADNI_df</span><span class="p">[</span><span class="s1">&#39;VISCODE&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">viscode_select</span><span class="p">]</span>
  <span class="n">ADNI_selected</span> <span class="o">=</span> <span class="n">ADNI_selected</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span> <span class="o">=</span> <span class="p">[</span><span class="n">truth</span><span class="p">])</span>

  <span class="c1">#Define predictors and output</span>
  <span class="n">y</span> <span class="o">=</span> <span class="n">ADNI_selected</span><span class="p">[</span><span class="n">truth</span><span class="p">]</span>
  <span class="n">X</span> <span class="o">=</span> <span class="n">ADNI_selected</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">sparse</span><span class="p">,</span><span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
  <span class="n">X</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">non_pred</span><span class="p">,</span><span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>

  <span class="c1">#Replace NaNs in non-categorical data</span>
  <span class="n">X_float</span><span class="o">=</span><span class="n">X</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">to_OHE</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
  <span class="n">X_float</span> <span class="o">=</span> <span class="n">X_float</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">X_float</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span>
  
  <span class="c1">#X_float = X_float.fillna(0)</span>
  
  <span class="n">scaled_values</span> <span class="o">=</span> <span class="n">MinMaxScaler</span><span class="p">()</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X_float</span><span class="p">)</span>
  <span class="n">X_float</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">scaled_values</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">X_float</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">X_float</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
  
  <span class="c1">#One hot encode where necessary</span>
  <span class="n">X_cat</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">get_dummies</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">to_OHE</span><span class="p">])</span>
  <span class="n">y</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">factorize</span><span class="p">(</span><span class="n">y</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
  
  <span class="n">X</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">X_float</span><span class="p">,</span><span class="n">X_cat</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
  
  <span class="c1">#Train-Test Split</span>
  <span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span> <span class="n">stratify</span><span class="o">=</span><span class="n">y</span><span class="p">)</span>
  
  <span class="k">return</span> <span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> 
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[32]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">prepare_data</span><span class="p">(</span><span class="n">ADNI_df</span><span class="p">,</span> <span class="n">to_OHE</span><span class="p">,</span> <span class="n">non_pred</span><span class="p">,</span> <span class="n">sparse</span><span class="p">)</span>
<span class="n">X_train</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
<span class="c1">#X_train.info()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[32]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>AGE</th>
      <th>PTEDUCAT</th>
      <th>FDG</th>
      <th>CDRSB</th>
      <th>ADAS11</th>
      <th>ADAS13</th>
      <th>MMSE</th>
      <th>RAVLT_immediate</th>
      <th>RAVLT_learning</th>
      <th>RAVLT_forgetting</th>
      <th>RAVLT_perc_forgetting</th>
      <th>FAQ</th>
      <th>Ventricles</th>
      <th>Hippocampus</th>
      <th>WholeBrain</th>
      <th>Entorhinal</th>
      <th>Fusiform</th>
      <th>MidTemp</th>
      <th>ICV</th>
      <th>CDRSB_bl</th>
      <th>ADAS11_bl</th>
      <th>ADAS13_bl</th>
      <th>MMSE_bl</th>
      <th>RAVLT_immediate_bl</th>
      <th>RAVLT_learning_bl</th>
      <th>RAVLT_forgetting_bl</th>
      <th>RAVLT_perc_forgetting_bl</th>
      <th>FAQ_bl</th>
      <th>Ventricles_bl</th>
      <th>Hippocampus_bl</th>
      <th>WholeBrain_bl</th>
      <th>Entorhinal_bl</th>
      <th>Fusiform_bl</th>
      <th>MidTemp_bl</th>
      <th>ICV_bl</th>
      <th>FDG_bl</th>
      <th>PTGENDER_Female</th>
      <th>PTGENDER_Male</th>
      <th>PTETHCAT_Hisp/Latino</th>
      <th>PTETHCAT_Not Hisp/Latino</th>
      <th>PTETHCAT_Unknown</th>
      <th>PTRACCAT_Am Indian/Alaskan</th>
      <th>PTRACCAT_Asian</th>
      <th>PTRACCAT_Black</th>
      <th>PTRACCAT_Hawaiian/Other PI</th>
      <th>PTRACCAT_More than one</th>
      <th>PTRACCAT_Unknown</th>
      <th>PTRACCAT_White</th>
      <th>PTMARRY_Divorced</th>
      <th>PTMARRY_Married</th>
      <th>PTMARRY_Never married</th>
      <th>PTMARRY_Unknown</th>
      <th>PTMARRY_Widowed</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>1182.000000</td>
      <td>1182.000000</td>
      <td>1182.000000</td>
      <td>1182.000000</td>
      <td>1182.000000</td>
      <td>1182.000000</td>
      <td>1182.000000</td>
      <td>1182.000000</td>
      <td>1182.000000</td>
      <td>1182.000000</td>
      <td>1182.000000</td>
      <td>1182.000000</td>
      <td>1182.000000</td>
      <td>1182.000000</td>
      <td>1182.000000</td>
      <td>1182.000000</td>
      <td>1182.000000</td>
      <td>1182.000000</td>
      <td>1182.000000</td>
      <td>1182.000000</td>
      <td>1182.000000</td>
      <td>1182.000000</td>
      <td>1182.000000</td>
      <td>1182.000000</td>
      <td>1182.000000</td>
      <td>1182.000000</td>
      <td>1182.000000</td>
      <td>1182.000000</td>
      <td>1182.000000</td>
      <td>1182.000000</td>
      <td>1182.000000</td>
      <td>1182.000000</td>
      <td>1182.000000</td>
      <td>1182.000000</td>
      <td>1182.000000</td>
      <td>1182.000000</td>
      <td>1182.000000</td>
      <td>1182.000000</td>
      <td>1182.000000</td>
      <td>1182.000000</td>
      <td>1182.000000</td>
      <td>1182.000000</td>
      <td>1182.000000</td>
      <td>1182.000000</td>
      <td>1182.000000</td>
      <td>1182.000000</td>
      <td>1182.000000</td>
      <td>1182.000000</td>
      <td>1182.000000</td>
      <td>1182.000000</td>
      <td>1182.000000</td>
      <td>1182.000000</td>
      <td>1182.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>0.516786</td>
      <td>0.714709</td>
      <td>0.526988</td>
      <td>0.128080</td>
      <td>0.183598</td>
      <td>0.228802</td>
      <td>0.863768</td>
      <td>0.456217</td>
      <td>0.474539</td>
      <td>0.535101</td>
      <td>0.921426</td>
      <td>0.193521</td>
      <td>0.252794</td>
      <td>0.463500</td>
      <td>0.463148</td>
      <td>0.484216</td>
      <td>0.415481</td>
      <td>0.512313</td>
      <td>0.549653</td>
      <td>0.161337</td>
      <td>0.249794</td>
      <td>0.306883</td>
      <td>0.747270</td>
      <td>0.486978</td>
      <td>0.508611</td>
      <td>0.515303</td>
      <td>0.790488</td>
      <td>0.137942</td>
      <td>0.252500</td>
      <td>0.479168</td>
      <td>0.454918</td>
      <td>0.462203</td>
      <td>0.399418</td>
      <td>0.503142</td>
      <td>0.429671</td>
      <td>0.533876</td>
      <td>0.439086</td>
      <td>0.560914</td>
      <td>0.032995</td>
      <td>0.961929</td>
      <td>0.005076</td>
      <td>0.000846</td>
      <td>0.016920</td>
      <td>0.040609</td>
      <td>0.000846</td>
      <td>0.009306</td>
      <td>0.001692</td>
      <td>0.929780</td>
      <td>0.087986</td>
      <td>0.760575</td>
      <td>0.034687</td>
      <td>0.005076</td>
      <td>0.111675</td>
    </tr>
    <tr>
      <th>std</th>
      <td>0.194761</td>
      <td>0.199198</td>
      <td>0.077611</td>
      <td>0.149903</td>
      <td>0.135943</td>
      <td>0.151623</td>
      <td>0.149226</td>
      <td>0.180785</td>
      <td>0.150515</td>
      <td>0.121533</td>
      <td>0.077865</td>
      <td>0.259535</td>
      <td>0.150327</td>
      <td>0.140920</td>
      <td>0.136079</td>
      <td>0.144719</td>
      <td>0.123239</td>
      <td>0.141022</td>
      <td>0.126703</td>
      <td>0.173005</td>
      <td>0.150108</td>
      <td>0.169777</td>
      <td>0.236264</td>
      <td>0.175494</td>
      <td>0.169827</td>
      <td>0.134856</td>
      <td>0.171604</td>
      <td>0.206003</td>
      <td>0.158870</td>
      <td>0.145520</td>
      <td>0.143451</td>
      <td>0.165948</td>
      <td>0.123512</td>
      <td>0.143263</td>
      <td>0.162140</td>
      <td>0.128325</td>
      <td>0.496486</td>
      <td>0.496486</td>
      <td>0.178699</td>
      <td>0.191449</td>
      <td>0.071096</td>
      <td>0.029086</td>
      <td>0.129028</td>
      <td>0.197467</td>
      <td>0.029086</td>
      <td>0.096060</td>
      <td>0.041117</td>
      <td>0.255626</td>
      <td>0.283395</td>
      <td>0.426913</td>
      <td>0.183063</td>
      <td>0.071096</td>
      <td>0.315100</td>
    </tr>
    <tr>
      <th>min</th>
      <td>0.002747</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.052632</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000398</td>
      <td>0.000000</td>
      <td>0.064819</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.028571</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.001319</td>
      <td>0.000000</td>
      <td>0.075022</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.015442</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>0.392857</td>
      <td>0.571429</td>
      <td>0.527621</td>
      <td>0.000000</td>
      <td>0.079365</td>
      <td>0.111154</td>
      <td>0.807692</td>
      <td>0.320000</td>
      <td>0.368421</td>
      <td>0.476190</td>
      <td>0.857143</td>
      <td>0.000000</td>
      <td>0.148282</td>
      <td>0.385089</td>
      <td>0.372670</td>
      <td>0.411864</td>
      <td>0.361329</td>
      <td>0.444383</td>
      <td>0.461209</td>
      <td>0.000000</td>
      <td>0.140614</td>
      <td>0.170660</td>
      <td>0.636364</td>
      <td>0.357143</td>
      <td>0.375000</td>
      <td>0.444444</td>
      <td>0.650000</td>
      <td>0.000000</td>
      <td>0.138151</td>
      <td>0.392322</td>
      <td>0.353040</td>
      <td>0.363647</td>
      <td>0.326017</td>
      <td>0.422495</td>
      <td>0.312181</td>
      <td>0.477771</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>1.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>1.000000</td>
      <td>0.000000</td>
      <td>1.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>0.521978</td>
      <td>0.714286</td>
      <td>0.527621</td>
      <td>0.088235</td>
      <td>0.142857</td>
      <td>0.194423</td>
      <td>0.923077</td>
      <td>0.440000</td>
      <td>0.473684</td>
      <td>0.523810</td>
      <td>0.925000</td>
      <td>0.066667</td>
      <td>0.247128</td>
      <td>0.462832</td>
      <td>0.462859</td>
      <td>0.484907</td>
      <td>0.414418</td>
      <td>0.511816</td>
      <td>0.547569</td>
      <td>0.100000</td>
      <td>0.218655</td>
      <td>0.280410</td>
      <td>0.818182</td>
      <td>0.471429</td>
      <td>0.500000</td>
      <td>0.500000</td>
      <td>0.791934</td>
      <td>0.033333</td>
      <td>0.229445</td>
      <td>0.478493</td>
      <td>0.453346</td>
      <td>0.460689</td>
      <td>0.398366</td>
      <td>0.503314</td>
      <td>0.418096</td>
      <td>0.532471</td>
      <td>0.000000</td>
      <td>1.000000</td>
      <td>0.000000</td>
      <td>1.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>1.000000</td>
      <td>0.000000</td>
      <td>1.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>0.653846</td>
      <td>0.857143</td>
      <td>0.527621</td>
      <td>0.205882</td>
      <td>0.248730</td>
      <td>0.316282</td>
      <td>0.961538</td>
      <td>0.573333</td>
      <td>0.578947</td>
      <td>0.619048</td>
      <td>1.000000</td>
      <td>0.300000</td>
      <td>0.316233</td>
      <td>0.557943</td>
      <td>0.553553</td>
      <td>0.564275</td>
      <td>0.477536</td>
      <td>0.586306</td>
      <td>0.629758</td>
      <td>0.250000</td>
      <td>0.328099</td>
      <td>0.408451</td>
      <td>0.909091</td>
      <td>0.614286</td>
      <td>0.625000</td>
      <td>0.611111</td>
      <td>1.000000</td>
      <td>0.200000</td>
      <td>0.325372</td>
      <td>0.580229</td>
      <td>0.550751</td>
      <td>0.568680</td>
      <td>0.464776</td>
      <td>0.592635</td>
      <td>0.535343</td>
      <td>0.599275</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>0.000000</td>
      <td>1.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>1.000000</td>
      <td>0.000000</td>
      <td>1.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>0.960391</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>0.998483</td>
      <td>1.000000</td>
      <td>0.904714</td>
      <td>1.000000</td>
      <td>0.860150</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>0.897628</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Finally we have a dataset ready to work with.</p>

</div>
</div>
</div>
 


<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = '//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: 'center'," +
        "    displayIndent: '0em'," +
        "    showMathMenu: true," +
        "    tex2jax: { " +
        "        inlineMath: [ ['$','$'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        " linebreaks: { automatic: true, width: '95% container' }, " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }" +
        "    } " +
        "}); ";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script>

    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="http://getpelican.com/">Pelican</a></li>
                            <li><a href="http://python.org/">Python.org</a></li>
                            <li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="https://esmail.github.io/cs109a-f18-group16/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>